*--------------------------------------------------------------------------------------------------------------------------------------------------------
* (ES) AUTOGENERADO - ˇˇATENCIÓN!! - ˇˇNO PENSADO PARA EJECUTAR!! USAR SOLAMENTE PARA INTEGRAR CAMBIOS Y ALMACENAR CON HERRAMIENTAS SCM!!
* (EN) AUTOGENERATED - ATTENTION!! - NOT INTENDED FOR EXECUTION!! USE ONLY FOR MERGING CHANGES AND STORING WITH SCM TOOLS!!
*--------------------------------------------------------------------------------------------------------------------------------------------------------
*< FOXBIN2PRG: Version="1.19" SourceFile="cnt_guiblock.vcx" /> (Solo para binarios VFP 9 / Only for VFP 9 binaries)
*
*
DEFINE CLASS block_custompage AS container 
 	*< CLASSDATA: Baseclass="container" Timestamp="" Scale="Pixels" Uniqueid="" />

	*<DefinedPropArrayMethod>
		*m: addingfields
		*m: poljubne_kategorije		&& priprava SQL za prikaz poljubnih kategorij
		*m: prepare
		*p: already_prepare
		*p: cursorname
		*p: ext_func_name
		*p: is_error
		*p: p_entiteta		&& Entiteta
		*p: p_ext_func_exists		&& Ali je v uporabi eksterna funkcija
		*p: p_id_entitete		&& ID entitete
		*p: p_poljubne_kategorije_exists		&& Ali se uporabljajo poljubne kategorije
	*</DefinedPropArrayMethod>

	HIDDEN cursorname
	BackStyle = 0
	BorderWidth = 0
	cursorname = 
	ext_func_name = 
	Height = 540
	Name = "block_custompage"
	p_entiteta = 		&& Entiteta
	p_ext_func_exists = .F.		&& Ali je v uporabi eksterna funkcija
	p_id_entitete = 		&& ID entitete
	p_poljubne_kategorije_exists = .F.		&& Ali se uporabljajo poljubne kategorije
	Width = 780
	
	HIDDEN PROCEDURE addingfields
		LOCAL lcCursor, lnCnt, lcCnt, loObj, lnLeft, lnTop, lnWidth, lnHeight, lnStartLeft, lnWidthToEnd
		LOCAL lnMaxRows, lnEditboxes, lnReccount, lnCntTop, lcControlSource, lcInputMask
		LOCAL lnAlignment, llAutoSize, llFontBold
		LOCAL lcTttNaziv, loObjLabel, lnTttMaxWidth, lcTttNewNaziv, i, lcTttLine, lnTttTop, lnTttLeft, lnOldMemoWidth
		
		lcCursor = This.CursorName 
		lnCnt = 0
		lnCntTop = 0
		lnStartLeft = 0
		
		* maksimalno število vrstic v enem stoplcu
		lnMaxRows = INT(This.Height / 20)
		* število editboxov v xml-ju
		COUNT FOR ALLTRIM(UPPER(&lcCursor..type)) == "EDITBOX" TO lnEditboxes
		COUNT ALL TO lnReccount
		* preverimo ali je število vseh objektov večje kot jih pride na page - editbox se šteje za 2 objekta
		IF (lnReccount + lnEditboxes) > (lnMaxRows * 2) THEN 
			LOCAL lcTekst
			lcTekst = "Not all fields are shown. There is no space for all fields."
			pozor(lcTekst)
		ENDIF 
		
		lnHalf = MIN(This.Width, 1090) / 2
		lnWidthToEnd = lnHalf - 10
		
		lnOldMemoWidth = SET("Memowidth")
		SET MEMOWIDTH TO 300
		
		GO TOP IN &lcCursor
		SCAN 
			lcCnt = ALLTRIM(STR(lnCnt))
			lcControlSource = ALLTRIM(&lcCursor..source)
		
			** Line
			IF ALLTRIM(UPPER(&lcCursor..type)) == "LINE" THEN 
				This.AddObject("Line" + lcCnt, "Line")
				
				** nastavitve za labelo
				lnLeft = 20 + lnStartLeft
				lnAlignment = 0
				llAutoSize = .T.
				llFontBold = .T.
			ELSE
				lnLeft = 5 + lnStartLeft
				lnAlignment = 1
				llAutoSize = .F.
				llFontBold = .F.
			ENDIF 
			
			** Label
			This.AddObject("Label" + lcCnt, "Blabel")
			lnTop = (20 * lnCntTop) + 2
			lnWidth = 250
			lnHeight = 17
			loObj = This.Label&lcCnt
			loObj.Alignment = lnAlignment
			loObj.AutoSize = llAutoSize
			loObj.BackColor = ThisForm.BackColor
			loObj.Caption = ALLTRIM(&lcCursor..title)
			loObj.FontBold = llFontBold
			loObj.Move(lnLeft, lnTop, lnWidth, lnHeight)
			loObj.Visible = .T.
			
			** če je vnešen tudi ToolTipText
			lcTttNaziv = ""
			IF TYPE("&lcCursor..tooltiptext") # "U" THEN 
				lcTttNaziv = &lcCursor..tooltiptext
			ENDIF 
			IF !GF_NullOrEmpty(lcTttNaziv) THEN 
				loObjLabel = loObj
				This.AddObject("LabelTTT" + lcCnt, "Blabel")
				loObj = This.LabelTTT&lcCnt
				loObj.AutoSize = .T.
				loObj.WordWrap = .T.
				loObj.BorderStyle = 1
				lnTttMaxWidth = 0
				
				lcTttNewNaziv = ""
		
				* zamenjamo CHR(10) - Shift+Enter, kar je nova vrstica v Editbox-u, z gcE (CHR(13) + CHR(10))
				lcTttNaziv = STRTRAN(lcTttNaziv, CHR(10), gcE)
				FOR i = 1 TO MEMLINES(lcTttNaziv) 
					lcTttLine = SPACE(1) + ALLTRIM(MLINE(lcTttNaziv, i)) + SPACE(1)	
					lnTttMaxWidth = MAX(lnTttMaxWidth, Thisform.TextWidth(lcTttLine))
					** sestavimo nov nov naziv s presledki spredaj in zadaj zaradi BorderStyle
					lcTttNewNaziv = lcTttNewNaziv + IIF(i > 1, gcE, "") + lcTttLine
					
					** nastavimo višino (17 je osnovna višina in nato se z vsako vrstico povečuje za 15)
					loObj.Height = (17 * i - IIF(i > 1, 2 * i, 0))
				ENDFOR 
				loObj.Width = lnTttMaxWidth
				loObj.Caption = lcTttNewNaziv
				loObj.BackColor = RGB(255,255,198)
				loObj.skip_change_color = .T.
				* preverimo ali se bo TTT videl na formi, drugače fiksiramo top pozicijo
				IF (loObj.Height + lnTop + loObjLabel.Height) > This.Height THEN 
					lnTttTop = This.Height - loObj.Height
					loObjLabel.obj_tooltip_top = IIF(lnTttTop > 0, lnTttTop, 0)
				ENDIF 
				* preverimo ali se bo TTT videl na formi, drugače fiksiramo left pozicijo
				IF (loObj.Width + lnLeft + loObjLabel.Width) > This.Width THEN 
					lnTttLeft = This.Height - loObj.Height
					loObjLabel.obj_tooltip_left = IIF(lnTttLeft > 0, lnTttLeft, 0)
				ENDIF 
				loObjLabel.obj_tooltip = loObj
				
			ENDIF 
		
			DO CASE 
				CASE ALLTRIM(UPPER(&lcCursor..type)) == "LINE"
					loObj = This.Line&lcCnt
					lnTop = (20 * lnCntTop) + 10
					lnLeft = 5 + lnStartLeft
					lnHeight = 0
					lnWidth = lnWidthToEnd
				
				CASE ALLTRIM(UPPER(&lcCursor..type)) == "CHECKBOX"
					This.AddObject("CheckBox" + lcCnt, "Checkbox")
					lnTop = (20 * lnCntTop) + 2
					lnLeft = 260 + lnStartLeft
					lnHeight = 17
					lnWidth = 100
					loObj = This.CheckBox&lcCnt
					loObj.BackStyle = 0
					loObj.ControlSource = lcControlSource
					loObj.Caption = ""
					loObj.ReadOnly = .T.
				
				CASE ALLTRIM(UPPER(&lcCursor..type)) == "EDITBOX"
					This.AddObject("EditBox" + lcCnt, "Beditbox")
					lnTop = (20 * lnCntTop)
					lnLeft = 260 + lnStartLeft
					lnHeight = 39
					lnWidth = lnWidthToEnd - 260 
					loObj = This.EditBox&lcCnt
					loObj.ControlSource = lcControlSource
					loObj.ReadOnly = .T.
					loObj.TabStop = .F.
					
					* povečamo število, ker editbox je v dveh vrsticah
					lnCnt = lnCnt + 1
					lnCntTop = lnCntTop + 1
					
				CASE ALLTRIM(UPPER(&lcCursor..type)) == "DATE"
					This.AddObject("Textbox" + lcCnt, "Datum")
					lnTop = (20 * lnCntTop)
					lnLeft = 260 + lnStartLeft
					lnHeight = 19
					lnWidth = 80
					loObj = This.Textbox&lcCnt
					loObj.ControlSource = lcControlSource
					loObj.DateFormat = 6
					loObj.Enabled = .F.
					loObj.Format = "D"
				
				OTHERWISE 
					This.AddObject("Textbox" + lcCnt, "Btextro")
					lnTop = (20 * lnCntTop)
					lnLeft = 260 + lnStartLeft
					lnHeight = 19
					loObj = This.Textbox&lcCnt
					loObj.ControlSource = lcControlSource
					lcInputMask = ""
					IF TYPE("&lcCursor..InputMask") # "U" THEN 
						lcInputMask = IIF(GF_NullOrEmpty(&lcCursor..InputMask), "", ALLTRIM(TRANSFORM(&lcCursor..InputMask)))
					ENDIF 
					
					DO CASE 
						CASE ALLTRIM(UPPER(&lcCursor..type)) == "DATETIME"
							lnWidth = 130
						
						CASE ALLTRIM(UPPER(&lcCursor..type)) == "TEXTBOX_S"
							lnWidth = 80
							loObj.InputMask = lcInputMask
		
						CASE ALLTRIM(UPPER(&lcCursor..type)) == "TEXTBOX_M"
							lnWidth = 180
							loObj.InputMask = lcInputMask
		
						CASE ALLTRIM(UPPER(&lcCursor..type)) == "TEXTBOX_L"
							lnWidth = lnWidthToEnd - 260 
							loObj.InputMask = lcInputMask
						
						CASE ALLTRIM(UPPER(&lcCursor..type)) == "TEXTBOX_2"
							lnWidth = 80
							** dodano še en textbox
							LOCAL loObj2
							This.AddObject("Text" + lcCnt, "Btextro")
							loObj2 = This.Text&lcCnt
							lcControlSource = &lcCursor..source2
							loObj2.ControlSource = lcControlSource
							loObj2.Move(lnLeft + 80, lnTop, lnWidthToEnd - 340, lnHeight)
							loObj2.Visible = .T.
					ENDCASE 
			ENDCASE 
			
			loObj.Move(lnLeft, lnTop, lnWidth, lnHeight)
			loObj.Visible = .T.
		
			lnCnt = lnCnt + 1
			lnCntTop = lnCntTop + 1
			** dosegli smo maksimalno število polj, ki jih lahko prikažemo
			IF lnCnt >= (lnMaxRows * 2) THEN 
				EXIT 
			ENDIF 
			** postavimo se v naslednji stolpec, če se še nismo
			IF lnCnt >= lnMaxRows AND lnCntTop = lnCnt THEN 
				lnStartLeft = lnHalf
				lnCntTop = 0
			ENDIF 
		ENDSCAN 
		
		This.Already_prepare = .T.
		
		SET MEMOWIDTH TO lnOldMemoWidth 
	ENDPROC

	PROCEDURE Init
		LOCAL lcSql 
		
		* ali se uporablja eksterna funkcija
		TEXT TO lcSql NOSHOW 
			select count(*) 
			from dbo.ext_func 
			where 
			    id_ext_func_type = 'FOX' 
			    and inactive = 0
			    and datalength(code) > 10
			    and id_ext_func = '{0}'
		ENDTEXT 
		This.p_ext_func_exists = (GF_SQLExecScalarNull(STRTRAN(lcSql, "{0}", This.ext_func_name)) = 1)
		
		* ali se uporabljajo poljubne kategorije
		This.p_poljubne_kategorije_exists = GF_CategoryEntityExists(This.p_entiteta)
	ENDPROC

	HIDDEN PROCEDURE poljubne_kategorije		&& priprava SQL za prikaz poljubnih kategorij
		LOCAL lcSql, laPar[2]
		
		TEXT TO lcSql NOSHOW 
		
		declare @entiteta varchar(10) = ?p1, @id_entiteta varchar(100) = ?p2
		
		-- pripravi podatke za zeljeno entiteto
		select
		    t.id_kategorije_tip, 
		    '_' + replace(replace(replace(rtrim(ltrim(t.sifra)), '.', ''), '-', ''), ' ', '') as sifra, 
		    t.naziv,
		    t.tip_polja,
		    t.maska, 
		    t.naziv_tooltip, 
		    t.prosti_vnos, 
		    e.id_kategorije_entiteta, 
		    e.id_kategorije_sifrant,
		    s.vrednost, 
		    e.val_string, 
		    e.val_decimal, 
		    e.val_datetime,
		    e.id_key_gr, 
		    g.value
		into #temp
		from 
		    dbo.kategorije_tip t
		    left join dbo.kategorije_entiteta e on t.id_kategorije_tip = e.id_kategorije_tip and e.id_entiteta = @id_entiteta
		    left join dbo.kategorije_sifrant s on e.id_kategorije_sifrant = s.id_kategorije_sifrant
		    left join dbo.general_register g on t.id_register_gr = g.id_register and e.id_key_gr = g.id_key
		where t.entiteta = @entiteta and t.neaktiven = 0 
		order by t.id_kategorije_tip
		
		-- pripravi XML za custom_page
		declare @xml nvarchar(max)
		set @xml = (
		    select 
		        t.naziv as [title],
		        'polj_kategor.' + t.sifra as [source], 
		        case t.tip_polja 
		            when 'DATETIME' then 'date'
		            when 'NUMBER' then 'textbox_m'
		            when 'TEXT' then IIF(t.prosti_vnos = 1, 'editbox', 'textbox_l') 
		            when 'COMBOBOX' then 'textbox_l'
		            when 'GEN_REG' then 'textbox_l'
		        end as [type], 
		        t.maska as [inputmask], 
		        t.naziv_tooltip as [tooltiptext]
		    from 
		        #temp t
		    order by t.id_kategorije_tip
		    for xml path ('fields'), root ('xml'))
		
		-- PIVOT zapisov za entiteto
		DECLARE @cols_type nvarchar(max), @query nvarchar(max), @columns nvarchar(max)
		set @columns = N''
		set @query = N''
		
		-- datetime
		set @cols_type = STUFF((SELECT ',' + QUOTENAME(sifra) from #temp where tip_polja = 'DATETIME' group by sifra FOR XML PATH(''), TYPE).value('.', 'nvarchar(max)') , 1, 1,'')
		if len(@cols_type) > 1
		begin
		    set @columns = @columns + @cols_type + N','
		    set @query = @query + N'
		        (
		            select val_datetime, sifra
		            from #temp
		        ) x
		        pivot 
		        (
		            max(val_datetime)
		            for sifra in (' + @cols_type + N')
		        ) a ,'
		end
		
		-- number
		set @cols_type = STUFF((SELECT ',' + QUOTENAME(sifra) from #temp where tip_polja = 'NUMBER' group by sifra FOR XML PATH(''), TYPE).value('.', 'nvarchar(max)') , 1, 1,'')
		if len(@cols_type) > 1
		begin
		    set @columns = @columns + @cols_type + N','
		    set @query = @query + N'
		        (
		            select val_decimal, sifra
		            from #temp
		        ) x
		        pivot 
		        (
		            max(val_decimal)
		            for sifra in (' + @cols_type + N')
		        ) b ,'
		end
		
		-- text
		set @cols_type = STUFF((SELECT ',' + QUOTENAME(sifra) from #temp where tip_polja = 'TEXT' and prosti_vnos = 0 group by sifra FOR XML PATH(''), TYPE).value('.', 'nvarchar(max)') , 1, 1,'')
		if len(@cols_type) > 1
		begin
		    set @columns = @columns + @cols_type + N','
		    set @query = @query + N'
		        (
		            select cast(val_string as varchar(240)) val_string, sifra
		            from #temp
		        ) x
		        pivot 
		        (
		            max(val_string)
		            for sifra in (' + @cols_type + N')
		        ) c ,'
		end
		
		-- text - editbox
		set @cols_type = STUFF((SELECT ',' + QUOTENAME(sifra) from #temp where tip_polja = 'TEXT' and prosti_vnos = 1 group by sifra FOR XML PATH(''), TYPE).value('.', 'nvarchar(max)') , 1, 1,'')
		if len(@cols_type) > 1
		begin
		    set @columns = @columns + @cols_type + N','
		    set @query = @query + N'
		        (
		            select cast(val_string as varchar(8000)) val_string, sifra
		            from #temp
		        ) x
		        pivot 
		        (
		            max(val_string)
		            for sifra in (' + @cols_type + N')
		        ) d ,'
		end
		
		-- combobox
		set @cols_type = STUFF((SELECT ',' + QUOTENAME(sifra) from #temp where tip_polja = 'COMBOBOX' group by sifra FOR XML PATH(''), TYPE).value('.', 'nvarchar(max)') , 1, 1,'')
		if len(@cols_type) > 1
		begin
		    set @columns = @columns + @cols_type + N','
		    set @query = @query + N'
		        (
		            select cast(vrednost as varchar(240)) vrednost, sifra
		            from #temp
		        ) x
		        pivot 
		        (
		            max(vrednost)
		            for sifra in (' + @cols_type + N')
		        ) e ,'
		end
		
		-- general_register
		set @cols_type = STUFF((SELECT ',' + QUOTENAME(sifra) from #temp where tip_polja = 'GEN_REG' group by sifra FOR XML PATH(''), TYPE).value('.', 'nvarchar(max)') , 1, 1,'')
		if len(@cols_type) > 1
		begin
		    set @columns = @columns + @cols_type + N','
		    set @query = @query + N'
		        (
		            select cast(value as varchar(240)) value, sifra
		            from #temp
		        ) x
		        pivot 
		        (
		            max(value)
		            for sifra in (' + @cols_type + N')
		        ) f ,'
		end
		
		if len(@columns) > 1
		begin 
		    set @columns = N'SELECT ''' + (@xml) + N''' as [xml_field], ' + left(@columns, len(@columns) - 1) + N' FROM ' + CHAR(13) + CHAR(10)
		    set @columns = @columns + left(@query, len(@query) - 2)
		    exec sp_executesql @columns;
		end
		
		drop table #temp
		
		ENDTEXT 
		
		laPar[1] = This.p_entiteta 
		laPar[2] = This.p_id_entitete 
		
		GF_SqlExec_P(lcSql, @laPar, "polj_kategor")
		
	ENDPROC

	PROCEDURE prepare
		LOCAL lcXml, lcXmlEF, lcXmlPK, lcCursor, lcTekst, llExtFuncError
		
		lcXml = ""
		lcXmlEF = ""
		lcXmlPK = ""
		
		** ext_func
		IF This.p_ext_func_exists AND !This.Is_error THEN 
			lcXmlEF = GF_EXT_FUNC(This.ext_func_name)
		
			** if function doesn't return anything
			IF GF_NullOrEmpty(lcXmlEF) THEN 
				This.Is_error = .T.
			ENDIF 
		
			IF VARTYPE(lcXmlEF) != "C" THEN 
				lcTekst = "GF_EXT_FUNC(" + This.ext_func_name + ")"
				GF_NAPAKA(0, "Block_CustomPage", lcTekst, "Returned value of ext_func is not string.", 0)
				This.Is_error = .T.
			ENDIF 
			
			lcXml = lcXmlEF
		ENDIF 
		
		
		** poljubne kategorije
		IF This.p_poljubne_kategorije_exists THEN 
			This.Poljubne_kategorije()
		
			IF USED("polj_kategor") THEN 
				lcXmlPK = polj_kategor.xml_field
				** dodamo crto
				lcTekst = "Poljubne kategorije" && caption
				lcXml = "<xml><fields><title>" + lcTekst + "</title><type>line</type><inputmask>XXXXXXXXXXXXXXXXXXXX</inputmask></fields>"
				lcXmlPK = STRTRAN(lcXmlPK, "<xml>", lcXml)
				lcXml = ""
			ENDIF 
			
			lcXml = lcXmlPK
			
			IF !GF_NullOrEmpty(lcXmlEF) AND This.Is_error = .F. THEN
				lcXml = STRTRAN(lcXmlPK, "</xml>", "") + STRTRAN(lcXmlEF, "<xml>", "")
			ENDIF 
		ENDIF 
		
		IF !This.Already_prepare THEN 
			lcCursor = SYS(2015)
			This.CursorName = lcCursor
			XMLTOCURSOR(lcXml, lcCursor)
		
			This.AddingFields()
		
			IF USED(lcCursor) THEN 
				USE IN &lcCursor
			ENDIF 
		ENDIF 
		
		This.Refresh()
		
		
	ENDPROC

ENDDEFINE

DEFINE CLASS block_kategorije AS container 
 	*< CLASSDATA: Baseclass="container" Timestamp="" Scale="Pixels" Uniqueid="" />

	*<DefinedPropArrayMethod>
		*m: addingfields		&& Add fields to container
		*m: prepare_data		&& Prepare cursor for data and objects
		*m: prepare_entiteta_povezave		&& Pripravi XML za 3 parameter
		*m: prepare_xml		&& Prepare XML for saving
		*m: preveri_podatke		&& Preveri podatke ali so pravilno vneseni
		*m: removingfields		&& Remove all fields
		*m: replacedefaultvalue		&& Zamenja privzete vrednost, v primeru da se je spremenila vrednost povezane entitete
		*m: spremenjen_podatek		&& Ali je podatek na formi spremenjen glede na zapis v tabeli (bazi)
		*p: p_cursorname		&& Ime kurzorja (default KATEGORIJE)
		*p: p_disablefields		&& Disable fields because not all fields are shown
		*p: p_entiteta		&& Entiteta
		*p: p_entiteta_id		&& ID entitete
		*p: p_entiteta_povezave		&& XML za povezave entitete
		*p: p_fieldsadded		&& If fields were added
		*p: p_fixedsize		&& Ali je velikost containerja fiksirana in se ne more programsko spreminjati (default .T.; načeloma samo na kategorije_entiteta_maska je .F.)
		*p: p_povezave_vidne		&& Ali so gumbi za povezave vidne ali ne (default .F.; načeloma samo na kategorije_entiteta_maska je .T.)
		*p: p_xml		&& Additional parameter - XML to use
	*</DefinedPropArrayMethod>

	HIDDEN p_fieldsadded
	BackStyle = 0
	BorderWidth = 0
	Height = 200
	Name = "block_kategorije"
	p_cursorname = kategorije		&& Ime kurzorja (default KATEGORIJE)
	p_entiteta = 		&& Entiteta
	p_entiteta_id = 		&& ID entitete
	p_entiteta_povezave = .NULL.		&& XML za povezave entitete
	p_fixedsize = .T.		&& Ali je velikost containerja fiksirana in se ne more programsko spreminjati (default .T.; načeloma samo na kategorije_entiteta_maska je .F.)
	p_xml = 		&& Additional parameter - XML to use
	Width = 200
	
	HIDDEN PROCEDURE addingfields		&& Add fields to container
		LOCAL lcCursor, lcCursor1, lnTextBoxes, lnReccount, lnAllRows, lnHeight, lnMaxRows 
		LOCAL lnLabelWidth, lnTextWidth, lnHalfWidth, lnLeftPovezava, lnLeftPolja, llTwoColumns
		
		lcCursor = ALLTRIM(This.p_CursorName)
		lcCursor1 = lcCursor + "1"
		SELECT (lcCursor)
		
		** osnovne nastavitve, ce je prikaz v enem stolpcu ali da je sirina dovolj za dva standardna stolpca
		lnLabelWidth = 250
		lnTextWidth = 250
		lnHalfWidth = 545
		llTwoColumns = .F.
		
		COUNT FOR ALLTRIM(UPPER(&lcCursor..tip_polja)) == "TEXT" AND &lcCursor..prosti_vnos TO lnTextBoxes
		COUNT TO lnReccount
		lnAllRows = lnTextBoxes + lnReccount
		lnHeight = (lnAllRows * 20) + 10
		lnMaxRows = lnAllRows
		
		IF This.p_FixedSize THEN 
			* fiksna visina in sirina, lahko se prikazuje samo v 2 stolpcih, sirina posameznega stolpca pa se prilagodi glede na sirino
			* enako velja potem tudi za ostala objekte, kjer se sirina prilagaja, ce je v 2 stolpcih
			* ce je prikaz v 2 stolpcih
			IF lnHeight > This.Height THEN 
				LOCAL lnCalcHeight, lcTekst, lcTekst1, llError
		
				lcTekst = "Container Block_kategorije"
				lnMaxRows = lnAllRows / 2
				lnCalcHeight = (lnMaxRows * 20) + 10
				lcTekst1 = ""
				llError = .F.
				IF lnHeight > lnCalcHeight THEN 
					llTwoColumns = .T.
				ENDIF 
				
				* nastavimo sirino ostalih objektov, ce je container manjsi od 1090
				IF llTwoColumns AND This.Width < 1090 THEN 
					lnHalfWidth = INT(This.Width / 2)
					* ce je manj kot 400, ne pusti v 2 stolpcih
					IF lnHalfWidth < 400 THEN
						lcTekst1 = "Width is to small to show categories in two columns."
						llError = .T.
						llTwoColumns = .F.
					ELSE 
						* razlicne velikosti - bolj se prilagaja labela, tako da uporabnik vidi vnosno polje
						IF lnHalfWidth > 470
							lnLabelWidth = lnHalfWidth - lnTextWidth - 45
						ELSE 
							lnTextWidth = 200
							lnLabelWidth = lnHalfWidth - lnTextWidth - 45
						ENDIF 
					ENDIF 
					* preverimo ali zdaj lahko prikazemo vse objekte
					IF lnCalcHeight > This.Height THEN 
						llError = .T.
					ENDIF 
				ENDIF 
				
				*preverimo ali sploh lahko prikazemo vsa polja
				IF llError THEN 
					lcTekst1 = "Not all fields are shown. There is no space for all fields." + gcE + lcTekst1
					GF_NAPAKA(0, lcTekst, "", lcTekst1, 0)
					This.p_DisableFields = .T.
				ENDIF 
			ENDIF 
		ELSE
			* container se povecuje glede na stevilo polj, lahko pa se forma razsiri in se polja prikazujejo v 2 stolpcih
			This.Width = lnHalfWidth
			IF lnHeight > 810 THEN  
				This.Width = 1090
				* se enkrat izracunamo visino
				lnHeight = (lnAllRows * 10) + 19
				lnMaxRows = lnAllRows / 2
				llTwoColumns = .T.
			ENDIF
			This.Height = lnHeight 
		ENDIF 
		
		** povezave
		LOCAL llPovezave, llDodajPovezavo
		IF USED(lcCursor1) THEN 
			llPovezave = .T.
			llDodajPovezavo = !GF_NullOrEmpty(This.p_entiteta_povezave)
		ENDIF 
		
		********************************************************************
		* dodajamo polja
		LOCAL lnCnt, lcCnt, lnStartLeft, lnLeft, lnTop, lnWidth, lnHeight, loObj, lcSql, laPar[2], laPar3[3], lcCursorCombo, llImaPovezavo, loObjPovezava 
		LOCAL loObjLabel, lnTttTop, lnTttLeft, i, lnTttMaxWidth, lcTttNaziv, lcTttLine, lcTttNewNaziv, lnOldMemoWidth, lnListIndex
		
		lnOldMemoWidth = SET("Memowidth")
		SET MEMOWIDTH TO 300
		lnCnt = 0
		lnCntTop = 0
		lnStartLeft = 0
		lnLeftPolja = lnLabelWidth + 10
		lnLeftPovezava = lnLeftPolja + lnTextWidth + 10
		
		GO TOP IN (lcCursor)
		SCAN 
			lcCnt = ALLTRIM(STR(lnCnt))
			llImaPovezavo = .F.
			loObjPovezava = .null.
			
			** Label
			This.AddObject("Label" + lcCnt, "Blabel")
			lnLeft = 5 + lnStartLeft
			lnTop = (20 * lnCntTop) + 7
			lnWidth = lnLabelWidth
			lnHeight = 17
			loObj = This.Label&lcCnt
			loObj.Alignment = 1
			loObj.AutoSize = .F.
			loObj.BackColor = ThisForm.BackColor
			loObj.Caption = ALLTRIM(&lcCursor..naziv)
			loObj.Move(lnLeft, lnTop, lnWidth, lnHeight)
			loObj.Visible = .T.
			
			lcTttNaziv = &lcCursor..naziv_tooltip
			
			** če je vnešen tudi ToolTipText
			IF !GF_NullOrEmpty(lcTttNaziv) THEN 
				loObjLabel = loObj
				This.AddObject("LabelTTT" + lcCnt, "Blabel")
				loObj = This.LabelTTT&lcCnt
				loObj.AutoSize = .T.
				loObj.WordWrap = .T.
				loObj.BorderStyle = 1
				lnTttMaxWidth = 0
				
				lcTttNewNaziv = ""
		
				* zamenjamo CHR(10) - Shift+Enter, kar je nova vrstica v Editbox-u, z gcE (CHR(13) + CHR(10))
				lcTttNaziv = STRTRAN(lcTttNaziv, CHR(10), gcE)
				FOR i = 1 TO MEMLINES(lcTttNaziv) 
					lcTttLine = SPACE(1) + ALLTRIM(MLINE(lcTttNaziv, i)) + SPACE(1)	
					lnTttMaxWidth = MAX(lnTttMaxWidth, Thisform.TextWidth(lcTttLine))
					** sestavimo nov nov naziv s presledki spredaj in zadaj zaradi BorderStyle
					lcTttNewNaziv = lcTttNewNaziv + IIF(i > 1, gcE, "") + lcTttLine
					
					** nastavimo višino (17 je osnovna višina in nato se z vsako vrstico povečuje za 15)
					loObj.Height = (17 * i - IIF(i > 1, 2 * i, 0))
				ENDFOR 
				loObj.Width = lnTttMaxWidth
				loObj.Caption = lcTttNewNaziv
				loObj.BackColor = RGB(255,255,198)
				loObj.skip_change_color = .T.
				* preverimo ali se bo TTT videl na formi, drugače fiksiramo top pozicijo
				IF (loObj.Height + lnTop + loObjLabel.Height) > This.Height THEN 
					lnTttTop = This.Height - loObj.Height
					loObjLabel.obj_tooltip_top = IIF(lnTttTop > 0, lnTttTop, 0)
				ENDIF 
				* preverimo ali se bo TTT videl na formi, drugače fiksiramo left pozicijo
				IF (loObj.Width + lnLeft + loObjLabel.Width) > This.Width THEN 
					lnTttLeft = This.Height - loObj.Height
					loObjLabel.obj_tooltip_left = IIF(lnTttLeft > 0, lnTttLeft, 0)
				ENDIF 
				loObjLabel.obj_tooltip = loObj
				
			ENDIF 
			
			** Image kategorije_povezava
			IF llPovezave AND !GF_NullOrEmpty(&lcCursor..id_kategorije_tip_p) THEN 
				SELECT &lcCursor1
				LOCATE FOR &lcCursor1..id_kategorije_tip = &lcCursor..id_kategorije_tip_p
				
				IF FOUND() THEN 
					llImaPovezavo = .T.
				ENDIF 
				This.AddObject("Image" + lcCnt, "Kategorije_povezava")
				lnLeft = lnLeftPovezava + lnStartLeft
				lnTop = (20 * lnCntTop) + 7
				loObj = This.Image&lcCnt
				loObj.Enabled = llImaPovezavo
				loObj.Move(lnLeft, lnTop)
				loObj.Visible = This.p_povezave_vidne 
				IF !llImaPovezavo THEN 
					loObj.Picture = ""
				ENDIF 
				loObjPovezava = loObj
				
				SELECT &lcCursor
			ENDIF 
		
			DO CASE 
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "TEXT" AND &lcCursor..prosti_vnos
					This.AddObject("EditBox" + lcCnt, "Beditbox")
					lnTop = (20 * lnCntTop) + 5
					lnLeft = lnLeftPolja + lnStartLeft
					lnHeight = 39
					lnWidth = lnTextWidth
					loObj = This.EditBox&lcCnt
					loObj.Value = ALLTRIM(&lcCursor..val_string)
					loObj.MaxLength = 4000
					loObj.Obvezen = &lcCursor..obvezen
					IF llImaPovezavo THEN 
						loObjPovezava.Old_value = LOOKUP(&lcCursor1..val_string, &lcCursor..id_kategorije_tip_p, &lcCursor1..id_kategorije_tip)
						loObjPovezava.obj_copy = loObj
						IF llDodajPovezavo THEN 
							loObj.Value = loObjPovezava.Old_value
						ENDIF 
					ENDIF 
					
					* povečamo število, ker editbox je v dveh vrsticah
					lnCnt = lnCnt + 1
					lnCntTop = lnCntTop + 1
				
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "TEXT" AND !&lcCursor..prosti_vnos
					This.AddObject("Textbox" + lcCnt, "Btext")
					lnTop = (20 * lnCntTop) + 5
					lnLeft = lnLeftPolja + lnStartLeft
					lnHeight = 19
					lnWidth = lnTextWidth
					loObj = This.Textbox&lcCnt
					loObj.Value = ALLTRIM(&lcCursor..val_string)
					loObj.InputMask = NVL(&lcCursor..maska, "")
					loObj.MaxLength = 200
					loObj.Obvezen = &lcCursor..obvezen
					IF llImaPovezavo THEN 
						loObjPovezava.Old_value = LOOKUP(&lcCursor1..val_string, &lcCursor..id_kategorije_tip_p, &lcCursor1..id_kategorije_tip)
						loObjPovezava.obj_copy = loObj
						IF llDodajPovezavo THEN 
							loObj.Value = loObjPovezava.Old_value
						ENDIF 
					ENDIF 
				
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "DATETIME"
					This.AddObject("Textbox" + lcCnt, "Datum")
					lnTop = (20 * lnCntTop) + 5
					lnLeft = lnLeftPolja + lnStartLeft
					lnHeight = 19
					lnWidth = 80
					loObj = This.Textbox&lcCnt
					loObj.DateFormat = 6
					loObj.Format = "D"
					loObj.Value = NVL(&lcCursor..val_datetime, {})
					loObj.Obvezen = &lcCursor..obvezen
					IF llImaPovezavo THEN 
						loObjPovezava.Old_value = LOOKUP(&lcCursor1..val_datetime, &lcCursor..id_kategorije_tip_p, &lcCursor1..id_kategorije_tip)
						loObjPovezava.obj_copy = loObj
						IF llDodajPovezavo THEN 
							loObj.Value = loObjPovezava.Old_value
						ENDIF 
					ENDIF 
		
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "NUMBER"
					This.AddObject("Textbox" + lcCnt, "Btext")
					lnTop = (20 * lnCntTop) + 5
					lnLeft = lnLeftPolja + lnStartLeft
					lnHeight = 19
					lnWidth = lnTextWidth
					loObj = This.Textbox&lcCnt
					loObj.Value = NVL(&lcCursor..val_decimal, 0)
					loObj.InputMask = IIF(GF_NullOrEmpty(&lcCursor..maska), "#", ALLTRIM(&lcCursor..maska))
					loObj.Obvezen = &lcCursor..obvezen
					loObj.Obvezen_nic = &lcCursor..prosti_vnos
					IF llImaPovezavo THEN 
						loObjPovezava.Old_value = LOOKUP(&lcCursor1..val_decimal, &lcCursor..id_kategorije_tip_p, &lcCursor1..id_kategorije_tip)
						loObjPovezava.obj_copy = loObj
						IF llDodajPovezavo THEN 
							loObj.Value = loObjPovezava.Old_value
						ENDIF 
					ENDIF 
		
					** DB * Label
					LOCAL loObjDB
					This.AddObject("DBLabel" + lcCnt, "Blabel")
					loObjDB = This.DBLabel&lcCnt
					loObjDB.Alignment = 1
					loObjDB.AutoSize = .T.
					loObjDB.BackColor = ThisForm.BackColor
					loObjDB.ForeColor = RGB(255, 0, 0)
					loObjDB.Caption = "*"
					loObjDB.ToolTipText = "Neshranjen podatek" && caption
					loObjDB.Move((lnLeftPovezava -7) + lnStartLeft, (20 * lnCntTop) + 5, 5, 17)
					loObjDB.Visible = IIF(ISNULL(&lcCursor..val_decimal), .T., .F.)
								
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "COMBOBOX"
					This.AddObject("Combobox" + lcCnt, "Bcombolist")
					lnTop = (20 * lnCntTop) + 5
					lnLeft = lnLeftPolja + lnStartLeft
					lnHeight = 19
					lnWidth = lnTextWidth
					loObj = This.Combobox&lcCnt
					loObj.Obvezen = &lcCursor..obvezen
					loObj.RowSourceType = 5
					TEXT TO lcSql NOSHOW 
						select cast(null as int) as id_kategorije_sifrant, cast('' as varchar(200)) as vrednost
						union
						select id_kategorije_sifrant, vrednost
						from dbo.kategorije_sifrant
						where 
							(id_kategorije_tip = ?p1 or id_kategorije_tip = ?p3)
						    and (neaktiven = 0 or id_kategorije_sifrant = ?p2)
					ENDTEXT
					laPar3[1] = &lcCursor..id_kategorije_tip 
					laPar3[2] = IIF(GF_NullOrEmpty(&lcCursor..id_kategorije_sifrant), 0, &lcCursor..id_kategorije_sifrant)
					laPar3[3] = IIF(GF_NullOrEmpty(&lcCursor..id_kategorije_tip_p), 0, &lcCursor..id_kategorije_tip_p)
					lcCursorCombo = "combo" + lcCnt
					GF_SqlExec_P(lcSql, @laPar3, lcCursorCombo)
					loObj.AddProperty("laSource[1]")
					SELECT vrednost, id_kategorije_sifrant FROM &lcCursorCombo INTO ARRAY loObj.laSource
					loObj.RowSource = "This.laSource"
					loObj.BoundColumn = 2
					loObj.ColumnCount = 2
					loObj.ColumnLines = .F.
					loObj.ColumnWidths = "240,0"
					loObj.Value = &lcCursor..id_kategorije_sifrant
					USE IN (lcCursorCombo)
					IF llImaPovezavo THEN 
						loObjPovezava.Old_value = LOOKUP(&lcCursor1..id_kategorije_sifrant, &lcCursor..id_kategorije_tip_p, &lcCursor1..id_kategorije_tip)
						loObjPovezava.obj_copy = loObj
						IF llDodajPovezavo THEN 
							loObj.Value = loObjPovezava.Old_value
						ENDIF 
					ENDIF 
					IF !ISNULL(&lcCursor..id_kategorije_sifrant) THEN 
						lnListIndex = ASCAN(loObj.laSource, &lcCursor..id_kategorije_sifrant, -1, -1, 2, 15)
						IF lnListIndex > 0
							loObj.ListIndex = lnListIndex
						ENDIF 
					ENDIF 
					
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "GEN_REG"
					This.AddObject("Combobox" + lcCnt, "Bcombolist")
					lnTop = (20 * lnCntTop) + 5
					lnLeft = lnLeftPolja + lnStartLeft
					lnHeight = 19
					lnWidth = lnTextWidth
					loObj = This.Combobox&lcCnt
					loObj.Obvezen = &lcCursor..obvezen
					loObj.RowSourceType = 5
					TEXT TO lcSql NOSHOW 
						select cast(null as varchar(50)) as id_key, cast('' as varchar(240)) as value
						union
						select id_key, value from dbo.gfn_g_register_active(?p1, ?p2)
					ENDTEXT
					laPar[1] = &lcCursor..id_register_gr 
					laPar[2] = IIF(GF_NullOrEmpty(&lcCursor..id_key_gr), "", &lcCursor..id_key_gr)
					lcCursorCombo = "combo" + lcCnt
					GF_SqlExec_P(lcSql, @laPar, lcCursorCombo)			
					loObj.AddProperty("laSource[1]")
					SELECT value, id_key FROM &lcCursorCombo INTO ARRAY loObj.laSource
					loObj.RowSource = "This.laSource"
					loObj.BoundColumn = 2
					loObj.ColumnCount = 2
					loObj.ColumnLines = .F.
					loObj.ColumnWidths = "240, 85"
					loObj.Value = ALLTRIM(&lcCursor..id_key_gr)
					USE IN (lcCursorCombo)
					IF llImaPovezavo THEN 
						loObjPovezava.Old_value = LOOKUP(&lcCursor1..id_key_gr, &lcCursor..id_kategorije_tip_p, &lcCursor1..id_kategorije_tip)
						loObjPovezava.obj_copy = loObj
						IF llDodajPovezavo THEN 
							loObj.Value = loObjPovezava.Old_value
						ENDIF 
					ENDIF 
					IF !ISNULL(&lcCursor..id_key_gr) THEN 
						lnListIndex = ASCAN(loObj.laSource, &lcCursor..id_key_gr, -1, -1, 2, 15)
						IF lnListIndex > 0
							loObj.ListIndex = lnListIndex
						ENDIF 
					ENDIF 
			ENDCASE
			
			loObj.Move(lnLeft, lnTop, lnWidth, lnHeight)
			loObj.Visible = .T.
			loObj.label_name = "Label" + lcCnt
			IF loObj.obvezen THEN 
				loObj.BackColor = 8454143 && RGB(255, 255, 128)
			ENDIF
		
			lnCnt = lnCnt + 1
			lnCntTop = lnCntTop + 1
			** postavimo se v naslednji stolpec, če se še nismo
			IF llTwoColumns AND lnCnt >= lnMaxRows AND lnCntTop = lnCnt THEN 
				lnStartLeft = lnHalfWidth + 5
				lnCntTop = 0
			ENDIF 
			** dodamo ime objekta v cursor, zaradi shranjevanja
			REPLACE obj_name WITH loObj.Name IN (lcCursor)
		ENDSCAN 
		
		This.p_fieldsadded = .T.
		
		SET MEMOWIDTH TO lnOldMemoWidth 
	ENDPROC

	PROCEDURE prepare_data		&& Prepare cursor for data and objects
		LOCAL lcSql, laPar[3], lcCursor, lcCursor1, lcCursorCopy
		
		lcCursor = ALLTRIM(This.p_CursorName)
		lcCursor1 = lcCursor + "1"
		lcCursorCopy = lcCursor + "_copy"
		
		* ce so bila polja ze dodana, se naredi kopija
		IF This.p_fieldsadded THEN 
			SELECT * FROM &lcCursor INTO CURSOR &lcCursorCopy
		ENDIF 
		
		TEXT TO lcSql NOSHOW 
			exec dbo.grp_Kategorije_entitete_edit ?p1, ?p2, ?p3
		ENDTEXT 
		
		laPar[1] = NVL(This.p_entiteta, "")
		laPar[2] = NVL(This.p_entiteta_id, "")
		laPar[3] = IIF(!GF_NullOrEmpty(This.p_entiteta_povezave), This.p_entiteta_povezave, .null.)
		
		GF_SqlExec_P(lcSql, @laPar, This.p_CursorName)
		
		SELECT (lcCursor)
		REPLACE ALL id_entiteta WITH laPar[2]
		LOCATE 
		
		* ce so bila polja ze dodana, se napolni polje za ime objekta
		IF This.p_fieldsadded THEN 
			SELECT (lcCursor) 
			REPLACE ALL obj_name WITH (LOOKUP(&lcCursorCopy..obj_name, &lcCursor..id_kategorije_tip, &lcCursorCopy..id_kategorije_tip)) IN (lcCursor)
			* potrebno zamenjati zacetne vrednosti, saj se je povezava spremenila
			IF !GF_NullOrEmpty(This.p_entiteta_povezave) AND USED(lcCursor1) THEN 
				This.ReplaceDefaultValue()
			ENDIF 
		ELSE
			This.AddingFields()
		ENDIF 
		
		IF RECCOUNT(lcCursor) = 0 THEN 
			LOCAL lcTekst
			lcTekst = "Ne obstajajo kategorije za entiteto {0}" && caption
			lcTekst = STRTRAN(lcTekst, "{0}", laPar[1])
			pozor(lcTekst)
			RETURN .F.
		ENDIF 
	ENDPROC

	PROCEDURE prepare_entiteta_povezave		&& Pripravi XML za 3 parameter
		LPARAMETERS taArray
		LOCAL lcXml, laArray[1], i, lcXmlReturn
		
		TEXT TO lcXml NOSHOW 
		<povezava>
		  <entiteta>{entiteta}</entiteta>
		  <primary_key>{primary_key}</primary_key>
		  <id>{id}</id>
		</povezava>
		
		ENDTEXT 
		lcXmlReturn = ""
		
		ACOPY(taArray, laArray)
		
		FOR i = 1 TO ALEN(laArray, 1)
			lcXmlReturn = lcXmlReturn + lcXml
			lcXmlReturn = STRTRAN(lcXmlReturn, "{entiteta}", laArray[i, 1])
			lcXmlReturn = STRTRAN(lcXmlReturn, "{primary_key}", laArray[i, 2])
			lcXmlReturn = STRTRAN(lcXmlReturn, "{id}", laArray[i, 3])
		ENDFOR 
		
		RETURN lcXmlReturn
		
		
	ENDPROC

	PROCEDURE prepare_xml		&& Prepare XML for saving
		LOCAL lcCursor, lcS, lcS2, lcXml, loObjVal
		
		lcCursor = ALLTRIM(This.p_CursorName)
		lcS = SPACE(4)
		lcS2 = SPACE(2)
		
		lcXml = ""
		SELECT (lcCursor)
		SCAN 
			lcXml = lcXml + lcS2 + "<kategorija_entiteta>" + gcE
			IF !GF_NullOrEmpty(&lcCursor..id_kategorije_entiteta) THEN
				lcXml = lcXml + lcS + GF_CreateNode("id_kategorije_entiteta", &lcCursor..id_kategorije_entiteta, "I", 1) + gcE
			ENDIF 
			lcXml = lcXml + lcS + GF_CreateNode("id_kategorije_tip", &lcCursor..id_kategorije_tip, "I", 1) + gcE
			IF !GF_NullOrEmpty(&lcCursor..id_entiteta) THEN
				lcXml = lcXml + lcS + GF_CreateNode("id_entiteta", &lcCursor..id_entiteta, "C", 1) + gcE
			ENDIF
			
			loObjVal = "This." + ALLTRIM(&lcCursor..obj_name) + ".Value"
			DO CASE 
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "TEXT"
					IF !GF_NullOrEmpty(&loObjVal) THEN 
						lcXml = lcXml + lcS + GF_CreateNode("val_string", &loObjVal, "C", 1) + gcE
					ENDIF 
		
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "DATETIME"
					IF !GF_NullOrEmpty(&loObjVal) THEN 
						lcXml = lcXml + lcS + GF_CreateNode("val_datetime", &loObjVal, "D", 1) + gcE
					ENDIF 
		
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "NUMBER"
					IF !GF_NullOrEmpty(&loObjVal) OR kategorije.prosti_vnos THEN 
						lcXml = lcXml + lcS + GF_CreateNode("val_decimal", &loObjVal, "N", 1) + gcE
					ENDIF 
				
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "COMBOBOX"
					IF !GF_NullOrEmpty(&loObjVal) THEN 
						lcXml = lcXml + lcS + GF_CreateNode("id_kategorije_sifrant", &loObjVal, "I", 1) + gcE
					ENDIF 
				
				CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "GEN_REG"
					IF !GF_NullOrEmpty(&loObjVal) THEN 
						lcXml = lcXml + lcS + GF_CreateNode("id_key_gr", &loObjVal, "I", 1) + gcE
					ENDIF 
			ENDCASE 
			
			lcXml = lcXml + lcS2 + "</kategorija_entiteta>" + gcE
		ENDSCAN
		RETURN lcXml
	ENDPROC

	PROCEDURE preveri_podatke		&& Preveri podatke ali so pravilno vneseni
		LOCAL lcCursor, loObjVal, llVrni
		
		lcCursor = ALLTRIM(This.p_CursorName)
		
		SELECT (lcCursor)
		SCAN 
			loObjVal = "This." + ALLTRIM(&lcCursor..obj_name) + ".Value"
			IF ALLTRIM(UPPER(&lcCursor..tip_polja)) == "DATETIME" AND !GF_NullOrEmpty(&loObjVal) THEN
				llVrni = BETWEEN(YEAR(&loObjVal), 1900, 3000)
				IF !llVrni THEN 
					obvesti("Datum ni veljaven!")
					&loObjVal = CTOD("  .  .    ")
					RETURN .F.
				ENDIF
			ENDIF
		ENDSCAN 
		
		RETURN .T.
		
	ENDPROC

	PROCEDURE removingfields		&& Remove all fields
		LOCAL i
		FOR i = 1 TO This.ControlCount 
			This.RemoveObject(This.Controls[1].Name)
		ENDFOR
		This.p_fieldsadded = .F.
		
	ENDPROC

	HIDDEN PROCEDURE replacedefaultvalue		&& Zamenja privzete vrednost, v primeru da se je spremenila vrednost povezane entitete
		LOCAL lcCursor, lcCursor1, lcObjName, lxValue
		
		lcCursor = ALLTRIM(This.p_CursorName)
		lcCursor1 = lcCursor + "1"
		
		SELECT (lcCursor)
		SCAN FOR !ISNULL(&lcCursor..id_kategorije_tip_p)
			SELECT (lcCursor1)
			LOCATE FOR &lcCursor1..id_kategorije_tip = &lcCursor..id_kategorije_tip_p
			IF FOUND() THEN 
				lcObjName = ALLTRIM(&lcCursor..obj_name)
				loObj = This.&lcObjName
				lxValue = .null.
				
				* odvisno od tipa, vzamemo vrednost
				DO CASE
					CASE ALLTRIM(&lcCursor..tip_polja) == "TEXT"
						lxValue = &lcCursor1..val_string
					CASE ALLTRIM(&lcCursor..tip_polja) == "DATETIME"
						lxValue = &lcCursor1..val_datetime
					CASE ALLTRIM(&lcCursor..tip_polja) == "NUMBER"
						lxValue = &lcCursor1..val_decimal
					CASE ALLTRIM(&lcCursor..tip_polja) == "COMBOBOX"
						lxValue = &lcCursor1..id_kategorije_sifrant
					CASE ALLTRIM(&lcCursor..tip_polja) == "GEN_REG"
						lxValue = &lcCursor1..id_key_gr
				ENDCASE
				This.&lcObjName..Value = lxValue
			ENDIF 
			
			SELECT (lcCursor)
		ENDSCAN 
	ENDPROC

	PROCEDURE spremenjen_podatek		&& Ali je podatek na formi spremenjen glede na zapis v tabeli (bazi)
		LOCAL llVrni, lcCursor
		
		lcCursor = ALLTRIM(This.p_CursorName)
		
		* Preverimo ali je sprememba
		IF USED(lcCursor) AND llVrni = .F. THEN 
			SELECT (lcCursor)
			SCAN 
				loObjVal = "This." + ALLTRIM(&lcCursor..obj_name) + ".Value"
				DO CASE 
					CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "TEXT"
						IF !(ALLTRIM(NVL(&loObjVal, "")) == ALLTRIM(NVL(&lcCursor..val_string, "")))
							llVrni = .T.
						ENDIF 
		
					CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "DATETIME"
						IF !(NVL(&loObjVal, {..}) == NVL(&lcCursor..val_datetime, {..}))
							llVrni = .T.
						ENDIF 
					CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "NUMBER"
						IF !(NVL(&loObjVal, 0) = NVL(&lcCursor..val_decimal, 0))
							llVrni = .T.
						ENDIF 
					
					CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "COMBOBOX"
						IF !(NVL(&loObjVal, 0) = NVL(&lcCursor..id_kategorije_sifrant, 0))
							llVrni = .T.
						ENDIF 
					
					CASE ALLTRIM(UPPER(&lcCursor..tip_polja)) == "GEN_REG"
						IF !(NVL(&loObjVal, "") == NVL(&lcCursor..id_key_gr, ""))
							llVrni = .T.
						ENDIF 
				ENDCASE 
				IF llVrni THEN 
					EXIT 
				ENDIF 
			ENDSCAN 
			LOCATE 
		ENDIF
		
		RETURN llVrni
	ENDPROC

ENDDEFINE

DEFINE CLASS block_pogodba AS container 
 	*< CLASSDATA: Baseclass="container" Timestamp="" Scale="Pixels" Uniqueid="" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="Shape5" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Shape1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="shpSplosno" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCalcInt" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCalcInt" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCalcInt3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCalcInt2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblSlosniPodatki" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblId_pog" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_Pog" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNacin_leas" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_kredpog" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblId_kredpog" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDat_sklen" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDat_sklen" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtid_ref" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtid_svet" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtAneks" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblAneks" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtSubleasing" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblSubleasing" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblTecajnica_naziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtTecajnic_naziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtSpl_pog" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblSpl_pog" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDat_zakl" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPred_naj" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPred_naj" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_vrste" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblID_vrste" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtVrst_opr_naziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_dob" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblID_dob" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDobavitelj_naz_kr_kup" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDobavitelj_emso" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDobavitelj_emso" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtVr_sit" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblVrednost" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtVr_val" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDomValuta" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblObracun" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtVred_val" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPo_tecaju" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPo_tecaju" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNaziv_tuje" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDobavitelj_dav_stev" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDav_stop_opis" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtEf_obrm_tren" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblEf_obrm_tren" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtMPC" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblMPC" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDomValuta2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtObr_merak" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblObr_merak" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdOpenSupplier" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPredmetPogodbe" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPlacilaPogodbe" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtTraj_naj" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblTrajanje" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtZac_naj" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtKon_naj" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblMesecev" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblObdobja" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtObdobja_naziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPrv_obr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPrv_obr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtOst_obr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblOst_obr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtOpcija" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblOpcija" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDat_pol" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtZap_2ob" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtZap_opc" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val5" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val6" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtObr_mera" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblObr_mera" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDej_obr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDej_obr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPrv_obr2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPrv_obr2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val9" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtVarscina" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblVarscina" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val4" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtSt_obrok" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblKrat" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNet_nal" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblNetoNalozba" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val8" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblOdDo" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtMan_str" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblMan_str" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val7" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDdv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDDV" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtFix_del" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtRind_zadnji" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtRind_datum" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtRind_tgor" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtStroski_ZT" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblStroski_ZT" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtZav_fin" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblZav_fin" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtOststr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblOststr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtStroski_x" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtRtip_naziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_kupca" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblId_kupca" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_naz_kr_kup" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_emso" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPartner_emso" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_ulica" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPartner_ulica" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_id_poste" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_mesto" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_kontakt" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPartner_kontakt" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_fax" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPartner_fax" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtZR" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblZr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_dav_stev" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_telefon" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPartner_telefon" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdOpenCustomer" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDDV_ID" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtVr_val_zac" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtIzh_marza" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblIzh_marza" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPo_tecaju_inv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPartner_gsm" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPartner_gsm" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdIzracunEOMa" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtTrzna_vrednost" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblTrzna" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNet_nal_zac" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val10" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="chkDobrocno" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDav_stop_op_opis" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDav_stop_op_opis" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDav_stop_opis" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val11" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtEf_obrm" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblEf_obrm" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtTip_om" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtrobresti_sit" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDomValuta3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val20" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblrobresti_sit" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtrobresti_zac" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_val21" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtrobresti_val" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtObdobja_obresti_naziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblRindStrat" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtRindStratNaziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtRindDatNext" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtZadIzrObr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNaslIzrObr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblZadIzrObr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblNaslIzrObr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtMetodaIzrObr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtddv_id" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdShowCalcRules" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtObrok1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtOpcija_tren" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtOdkupVarsc" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtOdkupVarsc_tren" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtMaxDatZap" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblOdkupVarsc" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNjih_st" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Line1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPartner_mesto" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblNjih_st" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPartner" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPartner_dav_stev" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDobavitelj_dav_stev" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Line2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblTrenutno" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblObSklenitvi" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Line3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPlacilaNaZacetku" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Line4" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblObresti" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val12" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val13" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val14" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val15" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val16" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val17" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val18" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val19" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_val22" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtZapade_zt" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtZapade_zf" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblPlus" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblMetodaIzrObr" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblStroski_x" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="chkJe_NK" UniqueID="" Timestamp="" />

	#INCLUDE "..\includes\locs.h"
	*<DefinedPropArrayMethod>
		*m: clear		&& Clears the contents of a ComboBox or ListBox control.
		*m: readdata
		*m: requery		&& Requeries the row source to which the ListBox or ComboBox control is bound.
		*m: show_controls
		*m: sql_statement		&& Sql querry
		*m: update_eom
		*p: block_height
		*p: block_width
		*p: cursorname
		*p: dataid
		*p: idkupca
		*p: inputsql
		*p: installment_credit_reloaded
		*p: koef
		*a: datafields[1,1]
	*</DefinedPropArrayMethod>

	block_height = 680
	block_width = 990
	BorderWidth = 0
	cursorname = _PogBlock
	Height = 680
	koef = 1
	Name = "block_pogodba"
	Width = 990

	ADD OBJECT 'chkDobrocno' AS bcheck WITH ;
		Caption = "DDV v obrokih", ;
		Height = 17, ;
		Left = 320, ;
		Name = "chkDobrocno", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 111, ;
		TabStop = .F., ;
		Top = 497, ;
		Value = .F., ;
		Width = 129
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="checkbox" />

	ADD OBJECT 'chkJe_NK' AS bcheck WITH ;
		AutoSize = .T., ;
		Caption = "Nestandardna kalkulacija", ;
		Left = 747, ;
		Name = "chkJe_NK", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabStop = .F., ;
		Top = 257
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="checkbox" />

	ADD OBJECT 'cmdIzracunEOMa' AS commandbutton WITH ;
		Caption = "", ;
		Enabled = .T., ;
		Height = 19, ;
		Left = 965, ;
		Name = "cmdIzracunEOMa", ;
		Picture = ..\bmps\wizard.bmp, ;
		TabIndex = 5, ;
		TabStop = .F., ;
		ToolTipText = "Izračun trenutne EOM", ;
		Top = 495, ;
		Width = 19, ;
		WordWrap = .T.
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'cmdOpenCustomer' AS commandbutton WITH ;
		Caption = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 170, ;
		Name = "cmdOpenCustomer", ;
		Picture = ..\bmps\customer.bmp, ;
		TabIndex = 172, ;
		TabStop = .F., ;
		ToolTipText = "Mapa partnerja", ;
		Top = 85, ;
		Width = 19
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'cmdOpenSupplier' AS commandbutton WITH ;
		Caption = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 680, ;
		Name = "cmdOpenSupplier", ;
		Picture = ..\bmps\customerdobavitelj.bmp, ;
		TabIndex = 112, ;
		TabStop = .F., ;
		ToolTipText = "Mapa dobavitelja", ;
		Top = 195, ;
		Width = 19
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'cmdShowCalcRules' AS commandbutton WITH ;
		Caption = "", ;
		Enabled = .T., ;
		Height = 19, ;
		Left = 885, ;
		Name = "cmdShowCalcRules", ;
		Picture = ..\bmps\folder_table.bmp, ;
		TabIndex = 4, ;
		ToolTipText = "Prikaz pogojev za obrestno mero", ;
		Top = 635, ;
		Visible = .F., ;
		Width = 19, ;
		WordWrap = .T.
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'lblAneks' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Aneks", ;
		Height = 17, ;
		Left = 840, ;
		Name = "lblAneks", ;
		TabIndex = 29, ;
		Top = 27, ;
		Width = 50
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblCalcInt' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Obrač. obr. mera", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblCalcInt", ;
		TabIndex = 144, ;
		Top = 635, ;
		Visible = .F., ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblDat_sklen' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Sklenjena", ;
		Height = 17, ;
		Left = 560, ;
		Name = "lblDat_sklen", ;
		TabIndex = 13, ;
		Top = 27, ;
		Width = 65
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblDav_stop_op_opis' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Davek v MPC", ;
		Height = 17, ;
		Left = 665, ;
		Name = "lblDav_stop_op_opis", ;
		TabIndex = 173, ;
		Top = 322, ;
		Width = 140
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblDav_stop_opis' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Davčna stopnja", ;
		Height = 17, ;
		Left = 665, ;
		Name = "lblDav_stop_opis", ;
		TabIndex = 174, ;
		Top = 301, ;
		Width = 140
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblDDV' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "DDV", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblDDV", ;
		TabIndex = 170, ;
		Top = 497, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblDDV_ID' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Št. aktivacijske fakture", ;
		Height = 17, ;
		Left = 665, ;
		Name = "lblDDV_ID", ;
		TabIndex = 166, ;
		Top = 362, ;
		Width = 140
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblDej_obr' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Dej. obr. mera", ;
		Left = 520, ;
		Name = "lblDej_obr", ;
		TabIndex = 145, ;
		Top = 555, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblDobavitelj_dav_stev' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Davčna št.", ;
		Height = 17, ;
		Left = 790, ;
		Name = "lblDobavitelj_dav_stev", ;
		TabIndex = 109, ;
		Top = 217, ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblDobavitelj_emso' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "EMŠO", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblDobavitelj_emso", ;
		TabIndex = 109, ;
		Top = 217, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblEf_obrm' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "EOM", ;
		Left = 520, ;
		Name = "lblEf_obrm", ;
		TabIndex = 84, ;
		Top = 497, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblEf_obrm_tren' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Trenutna EOM", ;
		Height = 17, ;
		Left = 750, ;
		Name = "lblEf_obrm_tren", ;
		TabIndex = 85, ;
		Top = 495, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblID_dob' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Dobavitelj", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblID_dob", ;
		TabIndex = 107, ;
		Top = 197, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblId_kredpog' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Šif. kreditne pog.", ;
		Height = 17, ;
		Left = 305, ;
		Name = "lblId_kredpog", ;
		TabIndex = 8, ;
		Top = 25, ;
		Width = 135
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblId_kupca' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Partner", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblId_kupca", ;
		TabIndex = 42, ;
		Top = 87, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblId_pog' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Št. pogodbe", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblId_pog", ;
		TabIndex = 51, ;
		Top = 27, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblID_vrste' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Vrsta opreme", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblID_vrste", ;
		TabIndex = 99, ;
		Top = 237, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblIzh_marza' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Izh. marža", ;
		Height = 17, ;
		Left = 750, ;
		Name = "lblIzh_marza", ;
		TabIndex = 82, ;
		Top = 515, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblKrat' AS blabel WITH ;
		Caption = "x", ;
		Left = 275, ;
		Name = "lblKrat", ;
		TabIndex = 156, ;
		Top = 412
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblMan_str' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Manipulativni str.", ;
		Left = 5, ;
		Name = "lblMan_str", ;
		TabIndex = 32, ;
		Top = 557, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblMesecev' AS blabel WITH ;
		AutoSize = .F., ;
		Caption = "mesecev", ;
		Left = 160, ;
		Name = "lblMesecev", ;
		TabIndex = 118, ;
		Top = 637, ;
		Width = 80
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblMetodaIzrObr' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "M. obrač. obr.", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblMetodaIzrObr", ;
		TabIndex = 165, ;
		Top = 617, ;
		Visible = .F., ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblMPC' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "MPC", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblMPC", ;
		TabIndex = 22, ;
		Top = 322, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblNaslIzrObr' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Nasl. obrač. obr.", ;
		Height = 17, ;
		Left = 750, ;
		Name = "lblNaslIzrObr", ;
		TabIndex = 164, ;
		Top = 595, ;
		Visible = .F., ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblNetoNalozba' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Neto naložba", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblNetoNalozba", ;
		TabIndex = 158, ;
		Top = 342, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblNjih_st' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Notarski zap. št.", ;
		Height = 17, ;
		Left = 510, ;
		Name = "lblNjih_st", ;
		TabIndex = 13, ;
		Top = 47, ;
		Width = 115
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblObdobja' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Plačevanje", ;
		Left = 5, ;
		Name = "lblObdobja", ;
		TabIndex = 122, ;
		Top = 657, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblObr_mera' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Obrestna mera", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblObr_mera", ;
		TabIndex = 135, ;
		Top = 535, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblObr_merak' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Izh. obr. mera", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblObr_merak", ;
		TabIndex = 81, ;
		Top = 515, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblObracun' AS blabel WITH ;
		Caption = "(obračun)", ;
		Height = 17, ;
		Left = 595, ;
		Name = "lblObracun", ;
		TabIndex = 83, ;
		Top = 282, ;
		Width = 55
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblObresti' AS blabel WITH ;
		Caption = "Obresti", ;
		FontBold = .T., ;
		ForeColor = 0,0,160, ;
		Left = 630, ;
		Name = "lblObresti", ;
		Top = 473
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblObSklenitvi' AS blabel WITH ;
		Alignment = 2, ;
		AutoSize = .F., ;
		Caption = "Ob sklenitvi", ;
		FontBold = .T., ;
		ForeColor = 0,0,160, ;
		Height = 17, ;
		Left = 200, ;
		Name = "lblObSklenitvi", ;
		TabIndex = 12, ;
		Top = 258, ;
		Width = 145
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblOdDo' AS blabel WITH ;
		Caption = "-", ;
		Left = 315, ;
		Name = "lblOdDo", ;
		TabIndex = 169, ;
		Top = 637
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblOdkupVarsc' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Ostanek vrednosti", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblOdkupVarsc", ;
		TabIndex = 167, ;
		Top = 452, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblOpcija' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Odkup", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblOpcija", ;
		TabIndex = 167, ;
		Top = 432, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblOst_obr' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Obrok ", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblOst_obr", ;
		TabIndex = 155, ;
		Top = 412, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblOststr' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Dod. stor.", ;
		Height = 17, ;
		Left = 665, ;
		Name = "lblOststr", ;
		TabIndex = 33, ;
		Top = 412, ;
		Width = 140
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPartner' AS blabel WITH ;
		Caption = "PARTNER", ;
		FontBold = .T., ;
		ForeColor = 0,0,160, ;
		Height = 17, ;
		Left = 15, ;
		Name = "lblPartner", ;
		TabIndex = 9, ;
		Top = 67, ;
		Width = 56
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPartner_dav_stev' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Davčna št.", ;
		Height = 17, ;
		Left = 790, ;
		Name = "lblPartner_dav_stev", ;
		TabIndex = 49, ;
		Top = 87, ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPartner_emso' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "EMŠO", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblPartner_emso", ;
		TabIndex = 39, ;
		Top = 87, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPartner_fax' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Fax", ;
		Height = 17, ;
		Left = 790, ;
		Name = "lblPartner_fax", ;
		TabIndex = 56, ;
		Top = 147, ;
		Width = 65
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPartner_gsm' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "GSM", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblPartner_gsm", ;
		TabIndex = 57, ;
		Top = 147, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPartner_kontakt' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Kont. oseba", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblPartner_kontakt", ;
		TabIndex = 55, ;
		Top = 146, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPartner_mesto' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Pošta (pošilj.)", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblPartner_mesto", ;
		TabIndex = 42, ;
		Top = 126, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPartner_telefon' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Tel.", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblPartner_telefon", ;
		TabIndex = 58, ;
		ToolTipText = "Telefon partnerja", ;
		Top = 127, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPartner_ulica' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Naslov (pošilj.)", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblPartner_ulica", ;
		TabIndex = 47, ;
		Top = 107, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPlacilaNaZacetku' AS blabel WITH ;
		Caption = "Plačila na začetku", ;
		FontBold = .T., ;
		ForeColor = 0,0,160, ;
		Left = 120, ;
		Name = "lblPlacilaNaZacetku", ;
		Top = 473
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPlacilaPogodbe' AS blabel WITH ;
		Caption = "PLAČILA POGODBE", ;
		FontBold = .T., ;
		ForeColor = 0,0,160, ;
		Height = 17, ;
		Left = 8, ;
		Name = "lblPlacilaPogodbe", ;
		TabIndex = 10, ;
		Top = 388, ;
		Width = 111
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPlus' AS blabel WITH ;
		Caption = "+", ;
		Height = 17, ;
		Left = 865, ;
		Name = "lblPlus", ;
		TabIndex = 82, ;
		Top = 537, ;
		Width = 9
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPo_tecaju' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Tečaj na dan sklenitve", ;
		Height = 17, ;
		Left = 665, ;
		Name = "lblPo_tecaju", ;
		TabIndex = 88, ;
		Top = 282, ;
		Width = 140
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPred_naj' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Predmet pog.", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblPred_naj", ;
		TabIndex = 60, ;
		Top = 197, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPredmetPogodbe' AS blabel WITH ;
		Caption = "PREDMET POGODBE", ;
		FontBold = .T., ;
		ForeColor = 0,0,160, ;
		Height = 17, ;
		Left = 8, ;
		Name = "lblPredmetPogodbe", ;
		TabIndex = 12, ;
		Top = 173, ;
		Width = 117
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPrv_obr' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Polog", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblPrv_obr", ;
		TabIndex = 131, ;
		Top = 517, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblPrv_obr2' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Vrednost pogodbe", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblPrv_obr2", ;
		TabIndex = 168, ;
		Top = 362, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblRindStrat' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Strateg. repr.", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblRindStrat", ;
		TabIndex = 108, ;
		Top = 575, ;
		Visible = .F., ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblrobresti_sit' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Rev. obresti", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblrobresti_sit", ;
		TabIndex = 78, ;
		Top = 302, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblSlosniPodatki' AS blabel WITH ;
		Caption = "SPLOŠNI PODATKI", ;
		FontBold = .T., ;
		ForeColor = 0,0,160, ;
		Height = 17, ;
		Left = 8, ;
		Name = "lblSlosniPodatki", ;
		TabIndex = 11, ;
		Top = 3, ;
		Width = 107
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblSpl_pog' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Splošni pogoji", ;
		Height = 17, ;
		Left = 350, ;
		Name = "lblSpl_pog", ;
		TabIndex = 23, ;
		Top = 47, ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblStroski_x' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "STRX", ;
		Left = 5, ;
		Name = "lblStroski_x", ;
		TabIndex = 115, ;
		Top = 597, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblStroski_ZT' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "ZATE", ;
		Left = 5, ;
		Name = "lblStroski_ZT", ;
		TabIndex = 115, ;
		Top = 577, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblSubleasing' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Subleasing", ;
		Height = 17, ;
		Left = 809, ;
		Name = "lblSubleasing", ;
		TabIndex = 28, ;
		Top = 47, ;
		Width = 80
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblTecajnica_naziv' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Tečajnica", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblTecajnica_naziv", ;
		TabIndex = 21, ;
		Top = 47, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblTrajanje' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Trajanje ", ;
		Left = 5, ;
		Name = "lblTrajanje", ;
		TabIndex = 117, ;
		Top = 637, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblTrenutno' AS blabel WITH ;
		Alignment = 2, ;
		AutoSize = .F., ;
		Caption = "Trenutno", ;
		FontBold = .T., ;
		ForeColor = 0,0,160, ;
		Height = 17, ;
		Left = 465, ;
		Name = "lblTrenutno", ;
		TabIndex = 12, ;
		Top = 257, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblTrzna' AS blabel WITH ;
		Caption = "(tržna neto)", ;
		Height = 17, ;
		Left = 595, ;
		Name = "lblTrzna", ;
		TabIndex = 96, ;
		Top = 322, ;
		Width = 63
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblVarscina' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Varščina", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblVarscina", ;
		TabIndex = 143, ;
		Top = 537, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblVrednost' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Vrednost", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblVrednost", ;
		TabIndex = 79, ;
		Top = 282, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblZadIzrObr' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Zad. obrač. obr.", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblZadIzrObr", ;
		TabIndex = 165, ;
		Top = 595, ;
		Visible = .F., ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblZav_fin' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "ZAVF", ;
		Height = 17, ;
		Left = 5, ;
		Name = "lblZav_fin", ;
		TabIndex = 110, ;
		Top = 617, ;
		Width = 110
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblZr' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "TRR", ;
		Height = 17, ;
		Left = 520, ;
		Name = "lblZr", ;
		TabIndex = 49, ;
		Top = 107, ;
		Width = 105
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Line1' AS line WITH ;
		Height = 0, ;
		Left = 5, ;
		Name = "Line1", ;
		Top = 75, ;
		Width = 980
		*< END OBJECT: BaseClass="line" />

	ADD OBJECT 'Line2' AS line WITH ;
		Height = 0, ;
		Left = 5, ;
		Name = "Line2", ;
		Top = 265, ;
		Width = 660
		*< END OBJECT: BaseClass="line" />

	ADD OBJECT 'Line3' AS line WITH ;
		Height = 0, ;
		Left = 5, ;
		Name = "Line3", ;
		Top = 480, ;
		Width = 490
		*< END OBJECT: BaseClass="line" />

	ADD OBJECT 'Line4' AS line WITH ;
		Height = 0, ;
		Left = 520, ;
		Name = "Line4", ;
		Top = 480, ;
		Width = 460
		*< END OBJECT: BaseClass="line" />

	ADD OBJECT 'Shape1' AS shape WITH ;
		Curvature = 0, ;
		Height = 205, ;
		Left = 0, ;
		Name = "Shape1", ;
		SpecialEffect = 0, ;
		Top = 180, ;
		Width = 990
		*< END OBJECT: BaseClass="shape" />

	ADD OBJECT 'Shape5' AS shape WITH ;
		Curvature = 0, ;
		Height = 285, ;
		Left = 0, ;
		Name = "Shape5", ;
		SpecialEffect = 0, ;
		Top = 395, ;
		Width = 990
		*< END OBJECT: BaseClass="shape" />

	ADD OBJECT 'shpSplosno' AS shape WITH ;
		Curvature = 0, ;
		Height = 160, ;
		Left = 0, ;
		Name = "shpSplosno", ;
		SpecialEffect = 0, ;
		Top = 10, ;
		Width = 990
		*< END OBJECT: BaseClass="shape" />

	ADD OBJECT 'txtAneks' AS btextro WITH ;
		Height = 19, ;
		InputMask = "!", ;
		Left = 895, ;
		MaxLength = 1, ;
		Name = "txtAneks", ;
		ReadOnly = .T., ;
		TabIndex = 19, ;
		ToolTipText = "Aneks pogodbe", ;
		Top = 25, ;
		Width = 25
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCalcInt' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		InputMask = "99.9999%", ;
		Left = 630, ;
		Name = "txtCalcInt", ;
		TabIndex = 139, ;
		ToolTipText = "Skupna OM za obračun obresti (dani krediti)", ;
		Top = 635, ;
		Value = 0, ;
		Visible = .F., ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCalcInt2' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		InputMask = "99.9999%", ;
		Left = 720, ;
		Name = "txtCalcInt2", ;
		TabIndex = 141, ;
		ToolTipText = "Obrestna marža za obračun obresti (dani krediti)", ;
		Top = 635, ;
		Value = 0, ;
		Visible = .F., ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCalcInt3' AS datum WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		Enabled = .F., ;
		Left = 810, ;
		Name = "txtCalcInt3", ;
		ReadOnly = .T., ;
		TabIndex = 125, ;
		ToolTipText = "Datum veljavnosti OM za obračun obresti (dani krediti)", ;
		Top = 635, ;
		Visible = .F., ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDat_pol' AS datum WITH ;
		Enabled = .F., ;
		Left = 320, ;
		Name = "txtDat_pol", ;
		ReadOnly = .T., ;
		TabIndex = 128, ;
		ToolTipText = "Dat. pologa", ;
		Top = 515, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDat_sklen' AS datum WITH ;
		DisabledBackColor = 255,255,128, ;
		Enabled = .F., ;
		FontName = "Arial", ;
		Height = 19, ;
		Left = 630, ;
		Name = "txtDat_sklen", ;
		TabIndex = 3, ;
		ToolTipText = "Datum sklenitve", ;
		Top = 25, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDat_zakl' AS datum WITH ;
		Enabled = .F., ;
		FontName = "Arial", ;
		Height = 19, ;
		Left = 705, ;
		Name = "txtDat_zakl", ;
		TabIndex = 20, ;
		ToolTipText = "Datum zaključka", ;
		Top = 25, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDav_stop_op_opis' AS btextro WITH ;
		Height = 19, ;
		Left = 810, ;
		Name = "txtDav_stop_op_opis", ;
		TabIndex = 14, ;
		ToolTipText = "Davek v MPC", ;
		Top = 320, ;
		Width = 170
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDav_stop_opis' AS btextro WITH ;
		Height = 19, ;
		Left = 810, ;
		Name = "txtDav_stop_opis", ;
		TabIndex = 15, ;
		ToolTipText = "Davčna stopnja", ;
		Top = 300, ;
		Width = 170
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDdv' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtDdv", ;
		TabIndex = 103, ;
		ToolTipText = "DDV", ;
		Top = 495, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtddv_id' AS btextro WITH ;
		Height = 19, ;
		Left = 810, ;
		Name = "txtddv_id", ;
		TabIndex = 62, ;
		ToolTipText = "Št. aktivacijske fakture", ;
		Top = 360, ;
		Width = 170
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDej_obr' AS btextro WITH ;
		InputMask = "99.9999%", ;
		Left = 630, ;
		Name = "txtDej_obr", ;
		TabIndex = 138, ;
		ToolTipText = "Dej. obr. mera za gereniranje plana plačil", ;
		Top = 555, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDobavitelj_dav_stev' AS btextro WITH ;
		Left = 885, ;
		Name = "txtDobavitelj_dav_stev", ;
		TabIndex = 100, ;
		ToolTipText = "Davčna št. dobav.", ;
		Top = 215, ;
		Width = 95
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDobavitelj_emso' AS btextro WITH ;
		Left = 630, ;
		Name = "txtDobavitelj_emso", ;
		TabIndex = 104, ;
		ToolTipText = "EMŠO dobav.", ;
		Top = 215, ;
		Width = 150
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDobavitelj_naz_kr_kup' AS btextro WITH ;
		Height = 19, ;
		Left = 700, ;
		Name = "txtDobavitelj_naz_kr_kup", ;
		TabIndex = 102, ;
		ToolTipText = "Naziv dobavitelja", ;
		Top = 195, ;
		Width = 280
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDomValuta' AS btextro WITH ;
		FontBold = .T., ;
		Left = 395, ;
		MaxLength = 3, ;
		Name = "txtDomValuta", ;
		ReadOnly = .T., ;
		TabIndex = 65, ;
		Top = 280, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDomValuta2' AS btextro WITH ;
		Left = 395, ;
		MaxLength = 3, ;
		Name = "txtDomValuta2", ;
		ReadOnly = .T., ;
		TabIndex = 68, ;
		Top = 320, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDomValuta3' AS btextro WITH ;
		Left = 395, ;
		MaxLength = 3, ;
		Name = "txtDomValuta3", ;
		ReadOnly = .T., ;
		TabIndex = 66, ;
		Top = 300, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtEf_obrm' AS btextro WITH ;
		Height = 19, ;
		InputMask = "999.9999%", ;
		Left = 630, ;
		Name = "txtEf_obrm", ;
		TabIndex = 90, ;
		ToolTipText = "Pogodbena efektivna obrestna mera", ;
		Top = 495, ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtEf_obrm_tren' AS btextro WITH ;
		Height = 19, ;
		InputMask = "999.9999%", ;
		Left = 875, ;
		Name = "txtEf_obrm_tren", ;
		TabIndex = 89, ;
		ToolTipText = "Trenutna efektivna obrestna mera", ;
		Top = 495, ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtFix_del' AS btextro WITH ;
		InputMask = "99.9999%", ;
		Left = 875, ;
		Name = "txtFix_del", ;
		TabIndex = 142, ;
		ToolTipText = "Obrestna marža - pribitek", ;
		Top = 535, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_dob' AS btextro WITH ;
		Left = 630, ;
		Name = "txtID_dob", ;
		TabIndex = 101, ;
		ToolTipText = "Šifra dobavitelja", ;
		Top = 195, ;
		Width = 50
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_kredpog' AS btextro WITH ;
		Left = 445, ;
		Name = "txtId_kredpog", ;
		TabIndex = 2, ;
		ToolTipText = "Šif. kreditne pog.", ;
		Top = 25, ;
		Width = 108
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_kupca' AS btextro WITH ;
		Height = 19, ;
		Left = 120, ;
		MaxLength = 6, ;
		Name = "txtID_kupca", ;
		TabIndex = 30, ;
		ToolTipText = "Šifra partnerja", ;
		Top = 85, ;
		Width = 50
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_Pog' AS btext WITH ;
		DisabledBackColor = 255,255,128, ;
		FontBold = .T., ;
		ForeColor = 128,0,64, ;
		Left = 120, ;
		Name = "txtID_Pog", ;
		ReadOnly = .T., ;
		TabIndex = 70, ;
		ToolTipText = "Št. pogodbe", ;
		Top = 25, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtid_ref' AS btextro WITH ;
		Height = 19, ;
		Left = 930, ;
		MaxLength = 5, ;
		Name = "txtid_ref", ;
		TabIndex = 7, ;
		ToolTipText = "Šif. referenta", ;
		Top = 25, ;
		Width = 50
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtid_svet' AS btextro WITH ;
		Height = 19, ;
		Left = 930, ;
		MaxLength = 5, ;
		Name = "txtid_svet", ;
		ReadOnly = .T., ;
		TabIndex = 6, ;
		ToolTipText = "Šif. svetovalca", ;
		Top = 45, ;
		Width = 50
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val' AS btextro WITH ;
		FontBold = .T., ;
		Left = 560, ;
		Name = "txtID_val", ;
		TabIndex = 74, ;
		Top = 280, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val1' AS btextro WITH ;
		FontBold = .T., ;
		Left = 240, ;
		Name = "txtID_val1", ;
		TabIndex = 73, ;
		Top = 280, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val10' AS btextro WITH ;
		FontBold = .T., ;
		Left = 240, ;
		Name = "txtId_val10", ;
		TabIndex = 153, ;
		Top = 340, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val11' AS btextro WITH ;
		FontBold = .T., ;
		Left = 560, ;
		Name = "txtID_val11", ;
		TabIndex = 175, ;
		Top = 320, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val12' AS btextro WITH ;
		Left = 240, ;
		Name = "txtId_val12", ;
		TabIndex = 160, ;
		Top = 450, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val13' AS btextro WITH ;
		Left = 560, ;
		Name = "txtId_val13", ;
		TabIndex = 147, ;
		Top = 410, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val14' AS btextro WITH ;
		Left = 560, ;
		Name = "txtId_val14", ;
		TabIndex = 160, ;
		Top = 430, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val15' AS btextro WITH ;
		Left = 560, ;
		Name = "txtId_val15", ;
		TabIndex = 160, ;
		Top = 450, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val16' AS btextro WITH ;
		Left = 240, ;
		Name = "txtId_val16", ;
		TabIndex = 147, ;
		Top = 615, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val17' AS btextro WITH ;
		Left = 240, ;
		Name = "txtId_val17", ;
		TabIndex = 124, ;
		Top = 495, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val18' AS btextro WITH ;
		Left = 240, ;
		Name = "txtId_val18", ;
		TabIndex = 124, ;
		Top = 555, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val19' AS btextro WITH ;
		Left = 240, ;
		Name = "txtId_val19", ;
		TabIndex = 124, ;
		Top = 575, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val2' AS btextro WITH ;
		Left = 240, ;
		Name = "txtID_val2", ;
		TabIndex = 93, ;
		Top = 320, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val20' AS btextro WITH ;
		Left = 560, ;
		Name = "txtID_val20", ;
		TabIndex = 94, ;
		Top = 300, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val21' AS btextro WITH ;
		Left = 240, ;
		Name = "txtID_val21", ;
		TabIndex = 67, ;
		Top = 300, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_val22' AS btextro WITH ;
		Left = 240, ;
		Name = "txtId_val22", ;
		TabIndex = 124, ;
		Top = 595, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val3' AS btextro WITH ;
		Left = 240, ;
		Name = "txtID_val3", ;
		TabIndex = 124, ;
		Top = 515, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val4' AS btextro WITH ;
		Left = 240, ;
		Name = "txtID_val4", ;
		TabIndex = 137, ;
		Top = 535, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val5' AS btextro WITH ;
		Left = 240, ;
		Name = "txtID_val5", ;
		TabIndex = 147, ;
		Top = 410, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val6' AS btextro WITH ;
		Left = 240, ;
		Name = "txtID_val6", ;
		TabIndex = 160, ;
		Top = 430, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val7' AS btextro WITH ;
		Comment = "", ;
		ControlSource = "", ;
		FontBold = .F., ;
		Height = 19, ;
		Left = 930, ;
		MaxLength = 3, ;
		Name = "txtID_val7", ;
		ReadOnly = .T., ;
		TabIndex = 152, ;
		Top = 410, ;
		Width = 35
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val8' AS btextro WITH ;
		FontBold = .T., ;
		Left = 560, ;
		Name = "txtID_val8", ;
		TabIndex = 154, ;
		Top = 340, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_val9' AS btextro WITH ;
		FontBold = .T., ;
		Left = 240, ;
		Name = "txtID_val9", ;
		TabIndex = 163, ;
		Top = 360, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_vrste' AS btextro WITH ;
		InputMask = "!!!!", ;
		Left = 120, ;
		Name = "txtID_vrste", ;
		TabIndex = 97, ;
		ToolTipText = "Šifra vrste opreme", ;
		Top = 235, ;
		Width = 50
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtIzh_marza' AS btextro WITH ;
		Height = 19, ;
		InputMask = "999.9999%", ;
		Left = 875, ;
		Name = "txtIzh_marza", ;
		TabIndex = 87, ;
		ToolTipText = "Izhodiščna obrestna marža - pribitek", ;
		Top = 515, ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtKon_naj' AS datum WITH ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 320, ;
		Name = "txtKon_naj", ;
		ReadOnly = .T., ;
		TabIndex = 116, ;
		ToolTipText = "Konec", ;
		Top = 635, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtMan_str' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtMan_str", ;
		TabIndex = 41, ;
		ToolTipText = "Manipulativni str.", ;
		Top = 555, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtMaxDatZap' AS datum WITH ;
		Enabled = .F., ;
		Left = 400, ;
		Name = "txtMaxDatZap", ;
		ReadOnly = .T., ;
		TabIndex = 116, ;
		ToolTipText = "Datum zapadlosti zadnje terjatve iz plana plačil", ;
		Top = 635, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtMetodaIzrObr' AS btextro WITH ;
		Height = 19, ;
		Left = 630, ;
		Name = "txtMetodaIzrObr", ;
		TabIndex = 63, ;
		ToolTipText = "Metoda obračuna obresti", ;
		Top = 615, ;
		Visible = .F., ;
		Width = 320
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtMPC' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 275, ;
		Name = "txtMPC", ;
		TabIndex = 24, ;
		ToolTipText = "Maloprodajna cena", ;
		Top = 320, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNacin_leas' AS btextro WITH ;
		DisabledBackColor = 255,255,128, ;
		Height = 19, ;
		Left = 242, ;
		Name = "txtNacin_leas", ;
		TabIndex = 1, ;
		ToolTipText = "Tip financiranja", ;
		Top = 25, ;
		Width = 36
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNaslIzrObr' AS datum WITH ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 875, ;
		Name = "txtNaslIzrObr", ;
		ReadOnly = .T., ;
		TabIndex = 127, ;
		ToolTipText = "Datum naslednjega obračuna obresti", ;
		Top = 595, ;
		Visible = .F., ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNaziv_tuje' AS btextro WITH ;
		InputMask = "", ;
		Left = 120, ;
		Name = "txtNaziv_tuje", ;
		TabIndex = 61, ;
		ToolTipText = "Predmet pogodbe", ;
		Top = 215, ;
		Width = 385
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNet_nal' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		DisabledForeColor = 128,0,64, ;
		FontBold = .T., ;
		InputMask = (gcCif), ;
		Left = 440, ;
		Name = "txtNet_nal", ;
		TabIndex = 150, ;
		ToolTipText = "Trenutno izračunana financirana vrednost", ;
		Top = 340, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNet_nal_zac' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		DisabledForeColor = 128,0,64, ;
		FontBold = .T., ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtNet_nal_zac", ;
		TabIndex = 151, ;
		ToolTipText = "Financirana vrednost na začetku pogodbe", ;
		Top = 340, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNjih_st' AS btextro WITH ;
		Height = 19, ;
		Left = 630, ;
		Name = "txtNjih_st", ;
		ReadOnly = .T., ;
		TabIndex = 19, ;
		ToolTipText = "Notarski zapis št.", ;
		Top = 45, ;
		Width = 150
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtObdobja_naziv' AS btextro WITH ;
		Left = 120, ;
		Name = "txtObdobja_naziv", ;
		TabIndex = 121, ;
		ToolTipText = "Obdobje plačevanja", ;
		Top = 655, ;
		Width = 140
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtObdobja_obresti_naziv' AS btextro WITH ;
		Left = 260, ;
		Name = "txtObdobja_obresti_naziv", ;
		TabIndex = 120, ;
		ToolTipText = "Obdobje plačevanja obresti", ;
		Top = 655, ;
		Visible = .F., ;
		Width = 138
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtObr_mera' AS btextro WITH ;
		InputMask = "99.9999%", ;
		Left = 630, ;
		Name = "txtObr_mera", ;
		TabIndex = 133, ;
		ToolTipText = "Nominalna obrestna mera", ;
		Top = 535, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtObr_merak' AS btextro WITH ;
		Height = 19, ;
		InputMask = "999.9999%", ;
		Left = 630, ;
		Name = "txtObr_merak", ;
		TabIndex = 86, ;
		ToolTipText = "Izhodiščna nominalna obrestna mera", ;
		Top = 515, ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtObrok1' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 440, ;
		Name = "txtObrok1", ;
		TabIndex = 146, ;
		ToolTipText = "Trenutni obrok", ;
		Top = 410, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtOdkupVarsc' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtOdkupVarsc", ;
		TabIndex = 159, ;
		ToolTipText = "Pogodbeno kalkulirani ostanek vrednosti", ;
		Top = 450, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtOdkupVarsc_tren' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 440, ;
		Name = "txtOdkupVarsc_tren", ;
		TabIndex = 159, ;
		ToolTipText = "Trenutni kalkulirani ostanek vrednosti", ;
		Top = 450, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtOpcija' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtOpcija", ;
		TabIndex = 159, ;
		ToolTipText = "Pogodbena odkupna vrednost", ;
		Top = 430, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtOpcija_tren' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 440, ;
		Name = "txtOpcija_tren", ;
		TabIndex = 159, ;
		ToolTipText = "Trenutna odkupna vrednost", ;
		Top = 430, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtOst_obr' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtOst_obr", ;
		TabIndex = 146, ;
		ToolTipText = "Pogodbeni obrok", ;
		Top = 410, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtOststr' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 810, ;
		Name = "txtOststr", ;
		TabIndex = 40, ;
		ToolTipText = "Dodatni stroški", ;
		Top = 410, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_dav_stev' AS btextro WITH ;
		Height = 19, ;
		Left = 885, ;
		MaxLength = 13, ;
		Name = "txtPartner_dav_stev", ;
		TabIndex = 35, ;
		ToolTipText = "Davčna št. partnerja", ;
		Top = 85, ;
		Width = 95
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_emso' AS btextro WITH ;
		Height = 19, ;
		Left = 630, ;
		MaxLength = 13, ;
		Name = "txtPartner_emso", ;
		TabIndex = 34, ;
		ToolTipText = "EMŠO partnerja", ;
		Top = 85, ;
		Width = 150
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_fax' AS btextro WITH ;
		Left = 860, ;
		MaxLength = 30, ;
		Name = "txtPartner_fax", ;
		TabIndex = 54, ;
		ToolTipText = "Fax", ;
		Top = 145, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_gsm' AS btextro WITH ;
		Height = 19, ;
		Left = 630, ;
		MaxLength = 30, ;
		Name = "txtPartner_gsm", ;
		TabIndex = 52, ;
		ToolTipText = "GSM številka", ;
		Top = 145, ;
		Width = 150
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_id_poste' AS btextro WITH ;
		Left = 120, ;
		Name = "txtPartner_id_poste", ;
		TabIndex = 45, ;
		ToolTipText = "Pošta partnerja", ;
		Top = 125, ;
		Width = 48
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_kontakt' AS btextro WITH ;
		Left = 120, ;
		MaxLength = 45, ;
		Name = "txtPartner_kontakt", ;
		TabIndex = 50, ;
		ToolTipText = "Kontaktna oseba", ;
		Top = 145, ;
		Width = 324
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_mesto' AS btextro WITH ;
		Left = 168, ;
		MaxLength = 50, ;
		Name = "txtPartner_mesto", ;
		TabIndex = 46, ;
		ToolTipText = "Mesto partnerja", ;
		Top = 125, ;
		Width = 276
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_naz_kr_kup' AS btextro WITH ;
		Left = 190, ;
		Name = "txtPartner_naz_kr_kup", ;
		TabIndex = 31, ;
		ToolTipText = "Naziv partnerja", ;
		Top = 85, ;
		Width = 252
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_telefon' AS btextro WITH ;
		Height = 19, ;
		Left = 630, ;
		MaxLength = 30, ;
		Name = "txtPartner_telefon", ;
		TabIndex = 53, ;
		ToolTipText = "Telefonska številka", ;
		Top = 125, ;
		Width = 350
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPartner_ulica' AS btextro WITH ;
		Left = 120, ;
		MaxLength = 30, ;
		Name = "txtPartner_ulica", ;
		TabIndex = 44, ;
		ToolTipText = "Naslov partnerja", ;
		Top = 105, ;
		Width = 323
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPo_tecaju' AS btextro WITH ;
		Height = 19, ;
		InputMask = (gcTecaj), ;
		Left = 810, ;
		Name = "txtPo_tecaju", ;
		TabIndex = 75, ;
		ToolTipText = "Tečaj na dan sklenitve", ;
		Top = 280, ;
		Width = 85
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPo_tecaju_inv' AS btextro WITH ;
		Height = 19, ;
		InputMask = (gcTecaj), ;
		Left = 895, ;
		Name = "txtPo_tecaju_inv", ;
		TabIndex = 76, ;
		ToolTipText = "Tečaj na dan sklenitve", ;
		Top = 280, ;
		Width = 85
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPred_naj' AS btextro WITH ;
		InputMask = "", ;
		Left = 120, ;
		Name = "txtPred_naj", ;
		TabIndex = 59, ;
		ToolTipText = "Predmet pogodbe", ;
		Top = 195, ;
		Width = 385
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPrv_obr' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtPrv_obr", ;
		TabIndex = 123, ;
		ToolTipText = "Polog", ;
		Top = 515, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPrv_obr2' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		DisabledForeColor = 128,0,64, ;
		FontBold = .T., ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtPrv_obr2", ;
		TabIndex = 162, ;
		ToolTipText = "Vsota vseh pogodbenih plačil", ;
		Top = 360, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtRind_datum' AS datum WITH ;
		Enabled = .F., ;
		Left = 875, ;
		Name = "txtRind_datum", ;
		ReadOnly = .T., ;
		TabIndex = 126, ;
		ToolTipText = "Datum zadnjega obrestnega indeksa", ;
		Top = 555, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtRind_tgor' AS btextro WITH ;
		Height = 19, ;
		InputMask = "99.99%", ;
		Left = 800, ;
		MaxLength = 7, ;
		Name = "txtRind_tgor", ;
		TabIndex = 132, ;
		ToolTipText = "Toleranca zgornje meje", ;
		Top = 555, ;
		Width = 65
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtRind_zadnji' AS btextro WITH ;
		InputMask = "99.9999%", ;
		Left = 725, ;
		MaxLength = 7, ;
		Name = "txtRind_zadnji", ;
		TabIndex = 134, ;
		ToolTipText = "Zadnja vrednost obrestnega indeksa", ;
		Top = 555, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtRindDatNext' AS datum WITH ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 875, ;
		Name = "txtRindDatNext", ;
		ReadOnly = .T., ;
		TabIndex = 129, ;
		ToolTipText = "Predviden datum naslednje uskladitve indeksa obresti", ;
		Top = 575, ;
		Visible = .F., ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtRindStratNaziv' AS btextro WITH ;
		Height = 19, ;
		Left = 630, ;
		Name = "txtRindStratNaziv", ;
		TabIndex = 105, ;
		ToolTipText = "Strategija reprogramiranja indeksa obresti", ;
		Top = 575, ;
		Visible = .F., ;
		Width = 235
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtrobresti_sit' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 275, ;
		Name = "txtrobresti_sit", ;
		TabIndex = 26, ;
		Top = 300, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtrobresti_val' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 440, ;
		Name = "txtrobresti_val", ;
		TabIndex = 25, ;
		Top = 300, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtrobresti_zac' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtrobresti_zac", ;
		TabIndex = 27, ;
		Top = 300, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtRtip_naziv' AS btextro WITH ;
		Height = 19, ;
		Left = 705, ;
		Name = "txtRtip_naziv", ;
		TabIndex = 119, ;
		ToolTipText = "Naziv obrestnega indeksa", ;
		Top = 535, ;
		Value = , ;
		Width = 160
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtSpl_pog' AS btextro WITH ;
		Height = 19, ;
		Left = 445, ;
		MaxLength = 5, ;
		Name = "txtSpl_pog", ;
		TabIndex = 17, ;
		ToolTipText = "Splošni pogoji", ;
		Top = 45, ;
		Width = 40
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtSt_obrok' AS btextro WITH ;
		InputMask = "999", ;
		Left = 283, ;
		Name = "txtSt_obrok", ;
		TabIndex = 148, ;
		ToolTipText = "Število obrokov", ;
		Top = 410, ;
		Width = 30
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtStroski_x' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtStroski_x", ;
		TabIndex = 37, ;
		Top = 595, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtStroski_ZT' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtStroski_ZT", ;
		TabIndex = 38, ;
		Top = 575, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtSubleasing' AS btextro WITH ;
		Height = 19, ;
		InputMask = "!", ;
		Left = 895, ;
		Name = "txtSubleasing", ;
		TabIndex = 18, ;
		ToolTipText = "Subleasing", ;
		Top = 45, ;
		Width = 25
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtTecajnic_naziv' AS btextro WITH ;
		Height = 19, ;
		Left = 120, ;
		MaxLength = 35, ;
		Name = "txtTecajnic_naziv", ;
		TabIndex = 16, ;
		ToolTipText = "Tečajnica", ;
		Top = 45, ;
		Width = 226
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtTip_om' AS btextro WITH ;
		Left = 705, ;
		Name = "txtTip_om", ;
		TabIndex = 140, ;
		ToolTipText = "Način izračuna obresti (L - linearni, K - konformni)", ;
		Top = 555, ;
		Width = 20
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtTraj_naj' AS btextro WITH ;
		Left = 120, ;
		MaxLength = 3, ;
		Name = "txtTraj_naj", ;
		TabIndex = 113, ;
		ToolTipText = "Trajanje v mesecih", ;
		Top = 635, ;
		Width = 35
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtTrzna_vrednost' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		FontBold = .T., ;
		InputMask = (gcCif), ;
		Left = 440, ;
		Name = "txtTrzna_vrednost", ;
		TabIndex = 71, ;
		ToolTipText = "Izračunana trenutna neto tržna vrednost", ;
		Top = 320, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtVarscina' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtVarscina", ;
		TabIndex = 136, ;
		ToolTipText = "Varščina", ;
		Top = 535, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtVr_sit' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		FontBold = .T., ;
		InputMask = (gcCif), ;
		Left = 275, ;
		Name = "txtVr_sit", ;
		TabIndex = 64, ;
		Top = 280, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtVr_val' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		FontBold = .T., ;
		InputMask = (gcCif), ;
		Left = 440, ;
		Name = "txtVr_val", ;
		TabIndex = 69, ;
		Top = 280, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtVr_val_zac' AS btextro WITH ;
		Alignment = 3, ;
		DisabledBackColor = 255,255,128, ;
		FontBold = .T., ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtVr_val_zac", ;
		TabIndex = 72, ;
		Top = 280, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtVred_val' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtVred_val", ;
		TabIndex = 92, ;
		ToolTipText = "Vrednost pregledi (če = 0, potem je pogodba prevzeta)", ;
		Top = 320, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtVrst_opr_naziv' AS btextro WITH ;
		Left = 170, ;
		Name = "txtVrst_opr_naziv", ;
		TabIndex = 98, ;
		ToolTipText = "Opis vrste opreme", ;
		Top = 235, ;
		Width = 335
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtZac_naj' AS datum WITH ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 240, ;
		Name = "txtZac_naj", ;
		ReadOnly = .T., ;
		TabIndex = 114, ;
		ToolTipText = "Začetek", ;
		Top = 635, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtZadIzrObr' AS datum WITH ;
		Enabled = .F., ;
		FontName = "Arial", ;
		Height = 19, ;
		Left = 630, ;
		Name = "txtZadIzrObr", ;
		ReadOnly = .T., ;
		TabIndex = 130, ;
		ToolTipText = "Dat. zad. obračuna obresti ", ;
		Top = 595, ;
		Visible = .F., ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtZap_2ob' AS datum WITH ;
		Enabled = .F., ;
		Left = 320, ;
		Name = "txtZap_2ob", ;
		ReadOnly = .T., ;
		TabIndex = 149, ;
		ToolTipText = "Datum prvega obroka", ;
		Top = 410, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtZap_opc' AS datum WITH ;
		Enabled = .F., ;
		Left = 320, ;
		Name = "txtZap_opc", ;
		ReadOnly = .T., ;
		TabIndex = 161, ;
		ToolTipText = "Datum odkupa", ;
		Top = 430, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtZapade_zf' AS datum WITH ;
		Enabled = .F., ;
		Left = 320, ;
		Name = "txtZapade_zf", ;
		ReadOnly = .T., ;
		TabIndex = 128, ;
		ToolTipText = "Datum zapadlosti", ;
		Top = 615, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtZapade_zt' AS datum WITH ;
		Enabled = .F., ;
		Left = 320, ;
		Name = "txtZapade_zt", ;
		ReadOnly = .T., ;
		TabIndex = 128, ;
		ToolTipText = "Datum zapadlosti", ;
		Top = 575, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtZav_fin' AS btextro WITH ;
		Alignment = 3, ;
		InputMask = (gcCif), ;
		Left = 120, ;
		Name = "txtZav_fin", ;
		TabIndex = 36, ;
		Top = 615, ;
		Value = 0, ;
		Width = 120
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtZR' AS btextro WITH ;
		Height = 19, ;
		Left = 630, ;
		Name = "txtZR", ;
		TabIndex = 48, ;
		ToolTipText = "TRR partnerja", ;
		Top = 105, ;
		Width = 350
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />
	
	PROCEDURE clear		&& Clears the contents of a ComboBox or ListBox control.
	ENDPROC

	PROCEDURE Init
		LOCAL lcSQL, i, lcText
		This.InputSql = This.Sql_Statement()
		
		DIMENSION this.datafields[119, 2]
		i = 0
		
		** Splošni podatki
		i = i + 1
		this.datafields[i, 1] = "txtID_Pog"
		this.datafields[i, 2] = this.cursorname + ".id_pog"
		
		i = i + 1
		this.datafields[i, 1] = "txtNacin_leas"
		this.datafields[i, 2] = this.cursorname + ".Nacin_leas"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_kredpog"
		this.datafields[i, 2] = this.cursorname + ".Id_kredpog"
		
		i = i + 1
		this.datafields[i, 1] = "txtDat_sklen"
		this.datafields[i, 2] =  this.cursorname + ".Dat_sklen"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_ref"
		this.datafields[i, 2] = this.cursorname + ".id_ref"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_svet"
		this.datafields[i, 2] = this.cursorname + ".ID_svet"
		
		i = i + 1
		this.datafields[i, 1] = "txtTecajnic_naziv"
		this.datafields[i, 2] = this.cursorname + ".Tecajnic_naziv"
		
		i = i + 1
		this.datafields[i, 1] = "txtSpl_pog"
		this.datafields[i, 2] = this.cursorname + ".Spl_pog"
		
		i = i + 1
		this.datafields[i, 1] = "txtSubleasing"
		this.datafields[i, 2] = this.cursorname + ".Subleasing"
		
		i = i + 1
		this.datafields[i, 1] = "txtAneks"
		this.datafields[i, 2] = this.cursorname + ".Aneks"
		
		i = i + 1
		this.datafields[i, 1] = "txtDat_zakl"
		this.datafields[i, 2] = this.cursorname + ".Dat_zakl" 
		
		i = i + 1
		this.datafields[i, 1] = "txtNjih_st"
		this.datafields[i, 2] = this.cursorname + ".njih_st"
		
		** Splošni podatki - Partner
		i = i + 1
		this.datafields[i, 1] = "txtID_kupca"
		this.datafields[i, 2] = this.cursorname + ".ID_kupca"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_naz_kr_kup"
		this.datafields[i, 2] = this.cursorname + ".Partner_naz_kr_kup"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_emso"
		this.datafields[i, 2] = this.cursorname + ".Partner_emso"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_dav_stev"
		this.datafields[i, 2] = this.cursorname + ".Partner_dav_stev"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_ulica"
		this.datafields[i, 2] = this.cursorname + ".Partner_ulica"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_id_poste"
		this.datafields[i, 2] = this.cursorname + ".Partner_id_poste"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_mesto"
		this.datafields[i, 2] = this.cursorname + ".Partner_mesto"
		
		i = i + 1
		this.datafields[i, 1] = "txtZR"
		this.datafields[i, 2] = "(ALLTRIM(" + this.cursorname + ".partner_zr1)+ ' ' +" + this.cursorname + ".partner_zr2+' '+ALLTRIM(" + this.cursorname + ".partner_zr3))"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_kontakt"
		this.datafields[i, 2] = this.cursorname + ".Partner_kontakt"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_telefon"
		this.datafields[i, 2] = this.cursorname + ".Partner_telefon"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_fax"
		this.datafields[i, 2] = this.cursorname + ".Partner_fax"
		
		i = i + 1
		this.datafields[i, 1] = "txtPartner_gsm"
		this.datafields[i, 2] = this.cursorname + ".Partner_gsm"
		
		** Predmet pogodbe
		i = i + 1
		this.datafields[i, 1] = "txtPred_naj"
		this.datafields[i, 2] = this.cursorname + ".Pred_naj"
		
		i = i + 1
		this.datafields[i, 1] = "txtNaziv_tuje"
		this.datafields[i, 2] = this.cursorname + ".Naziv_tuje"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_vrste"
		this.datafields[i, 2] = this.cursorname + ".ID_vrste"
		
		i = i + 1
		this.datafields[i, 1] = "txtVrst_opr_naziv"
		this.datafields[i, 2] = this.cursorname + ".Vrst_opr_naziv"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_dob"
		this.datafields[i, 2] = this.cursorname + ".ID_dob"
		
		i = i + 1
		this.datafields[i, 1] = "txtDobavitelj_naz_kr_kup"
		this.datafields[i, 2] = this.cursorname + ".Dobavitelj_naz_kr_kup"
		
		i = i + 1
		this.datafields[i, 1] = "txtDobavitelj_emso"
		this.datafields[i, 2] = this.cursorname + ".Dobavitelj_emso"
		
		i = i + 1
		this.datafields[i, 1] = "txtDobavitelj_dav_stev"
		this.datafields[i, 2] = this.cursorname + ".Dobavitelj_dav_stev"
		
		i = i + 1
		this.datafields[i, 1] = "chkJe_NK"
		this.datafields[i, 2] = this.cursorname + ".je_nk"
		
		** Predmet pogodbe - zneski
		i = i + 1
		this.datafields[i, 1] = "txtVr_val_zac"
		this.datafields[i, 2] = this.cursorname + ".Vr_val_zac"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val1"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtVr_sit"
		this.datafields[i, 2] = this.cursorname + ".Vr_sit"
		
		i = i + 1
		this.datafields[i, 1] = "txtDomValuta"
		this.datafields[i, 2] = [GOBJ_Settings.GetVal("dom_valuta")]
		
		i = i + 1
		this.datafields[i, 1] = "txtVr_val"
		this.datafields[i, 2] = this.cursorname + ".Vr_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtrobresti_zac"
		this.datafields[i, 2] = this.cursorname + ".robresti_zac"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val21"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtrobresti_sit"
		this.datafields[i, 2] = this.cursorname + ".robresti_sit"
		
		i = i + 1
		this.datafields[i, 1] = "txtDomValuta3"
		this.datafields[i, 2] = [GOBJ_Settings.GetVal("dom_valuta")]
		
		i = i + 1
		this.datafields[i, 1] = "txtrobresti_val"
		this.datafields[i, 2] = this.cursorname + ".robresti_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val20"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtVred_val"
		this.datafields[i, 2] = this.cursorname + ".Vred_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val2"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtMPC"
		this.datafields[i, 2] = this.cursorname + ".MPC"
		
		i = i + 1
		this.datafields[i, 1] = "txtDomValuta2"
		this.datafields[i, 2] = [GOBJ_Settings.GetVal("dom_valuta")]
		
		i = i + 1
		this.datafields[i, 1] = "txtTrzna_vrednost"
		this.datafields[i, 2] = this.cursorname + ".trz_vred"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val11"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtNet_nal_zac"
		this.datafields[i, 2] = this.cursorname + ".Net_nal_zac"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val10"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtNet_nal"
		this.datafields[i, 2] = this.cursorname + ".Net_nal"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val8"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtPrv_obr2"
		this.datafields[i, 2] = "(" + this.cursorname + ".prv_obr + " + this.cursorname + ".st_obrok * " + this.cursorname + ".ost_obr + " + this.cursorname + ".opcija + " + this.cursorname + ".varscina * " + this.cursorname + ".odstej_var)"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val9"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		** Predmet pogodbe - ostalo
		i = i + 1
		this.datafields[i, 1] = "txtPo_tecaju"
		this.datafields[i, 2] = this.cursorname + ".Po_tecaju"
		
		i = i + 1
		this.datafields[i, 1] = "txtDav_stop_opis"
		this.datafields[i, 2] = this.cursorname + ".Dav_stop_opis"
		
		i = i + 1
		this.datafields[i, 1] = "txtDav_stop_op_opis"
		this.datafields[i, 2] = this.cursorname + ".dav_stop_op_opis"
		
		i = i + 1
		this.datafields[i, 1] = "txtddv_id"
		this.datafields[i, 2] = this.cursorname + ".DDV_id"
		
		** Plačila pogodbe
		i = i + 1
		this.datafields[i, 1] = "txtOst_obr"
		this.datafields[i, 2] = this.cursorname + ".Ost_obr"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val5"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtSt_obrok"
		this.datafields[i, 2] = this.cursorname + ".St_obrok"
		
		i = i + 1
		this.datafields[i, 1] = "txtZap_2ob"
		this.datafields[i, 2] = this.cursorname + ".Zap_2ob"
		
		i = i + 1
		this.datafields[i, 1] = "txtObrok1"
		this.datafields[i, 2] = this.cursorname + ".obrok1"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_val13"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtOststr"
		this.datafields[i, 2] = this.cursorname + ".Oststr"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val7"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtOpcija"
		this.datafields[i, 2] = this.cursorname + ".Opcija"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val6"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtZap_opc"
		this.datafields[i, 2] = this.cursorname + ".Zap_opc"
		
		i = i + 1
		this.datafields[i, 1] = "txtOpcija_tren"
		this.datafields[i, 2] = this.cursorname + ".tren_opc"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_val14"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtOdkupVarsc"
		this.datafields[i, 2] = this.cursorname + ".ost_vred"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_val12"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtOdkupVarsc_tren"
		this.datafields[i, 2] = this.cursorname + ".ost_vred_tren"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_val15"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		** Plačila pogodbe - Plačila na začetku
		i = i + 1
		this.datafields[i, 1] = "txtDdv"
		this.datafields[i, 2] = this.cursorname + ".Ddv"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_val17"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "chkDobrocno"
		this.datafields[i, 2] = this.cursorname + ".Dobrocno"
		
		i = i + 1
		this.datafields[i, 1] = "txtPrv_obr"
		this.datafields[i, 2] = this.cursorname + ".Prv_obr"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val3"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtDat_pol"
		this.datafields[i, 2] = "" + this.cursorname + ".Dat_pol"    
		
		i = i + 1
		this.datafields[i, 1] = "txtVarscina"
		this.datafields[i, 2] = this.cursorname + ".Varscina"
		
		i = i + 1
		this.datafields[i, 1] = "txtID_val4"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtMan_str"
		this.datafields[i, 2] = this.cursorname + ".Man_str"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_val18"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtStroski_ZT"
		this.datafields[i, 2] = this.cursorname + ".Stroski_ZT"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_val19"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtZapade_zt"
		this.datafields[i, 2] = "" + this.cursorname + ".zapade_zt" 
		
		i = i + 1
		this.datafields[i, 1] = "txtStroski_x"
		this.datafields[i, 2] = this.cursorname + ".Stroski_x"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_val22"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtZav_fin"
		this.datafields[i, 2] = this.cursorname + ".Zav_fin"
		
		i = i + 1
		this.datafields[i, 1] = "txtId_val16"
		this.datafields[i, 2] = this.cursorname + ".ID_val"
		
		i = i + 1
		this.datafields[i, 1] = "txtZapade_zf"
		this.datafields[i, 2] = "" + this.cursorname + ".zapade_zf" 
		
		i = i + 1
		this.datafields[i, 1] = "txtTraj_naj"
		this.datafields[i, 2] = this.cursorname + ".Traj_naj"
		
		i = i + 1
		this.datafields[i, 1] = "txtZac_naj"
		this.datafields[i, 2] = "" + this.cursorname + ".Zac_naj"
		
		i = i + 1
		this.datafields[i, 1] = "txtKon_naj"
		this.datafields[i, 2] = "" + this.cursorname + ".Kon_naj"
		
		i = i + 1
		this.datafields[i, 1] = "txtMaxDatZap"
		this.datafields[i, 2] = "" + this.cursorname + ".max_dat_zap"
		
		i = i + 1
		this.datafields[i, 1] = "txtObdobja_naziv"
		this.datafields[i, 2] = this.cursorname + ".Obdobja_naziv"
		
		i = i + 1
		this.datafields[i, 1] = "txtObdobja_obresti_naziv"
		this.datafields[i, 2] = this.cursorname + ".obd_obr_naziv"
		
		** Plačila pogodbe - Obresti
		i = i + 1
		this.datafields[i, 1] = "txtEf_obrm"
		this.datafields[i, 2] = this.cursorname + ".Ef_obrm"
		
		i = i + 1
		this.datafields[i, 1] = "txtEf_obrm_tren"
		this.datafields[i, 2] = this.cursorname + ".ef_obrm_tren"
		
		i = i + 1
		this.datafields[i, 1] = "txtObr_merak"
		this.datafields[i, 2] = this.cursorname + ".Obr_merak"
		
		i = i + 1
		this.datafields[i, 1] = "txtIzh_marza"
		this.datafields[i, 2] = "(" + this.cursorname + ".obr_merak - (" + this.cursorname + ".dej_obr - " + this.cursorname + ".fix_del))"
		
		i = i + 1
		this.datafields[i, 1] = "txtObr_mera"
		this.datafields[i, 2] = this.cursorname + ".Obr_mera"
		
		i = i + 1
		this.datafields[i, 1] = "txtRtip_naziv"
		this.datafields[i, 2] = this.cursorname + ".Rtip_naziv"
		
		i = i + 1
		this.datafields[i, 1] = "txtFix_del"
		this.datafields[i, 2] = this.cursorname + ".Fix_del"
		
		i = i + 1
		this.datafields[i, 1] = "txtDej_obr"
		this.datafields[i, 2] = this.cursorname + ".Dej_obr"
		
		i = i + 1
		this.datafields[i, 1] = "txtTip_om"
		this.datafields[i, 2] = this.cursorname + ".tip_om"
		
		i = i + 1
		this.datafields[i, 1] = "txtRind_zadnji"
		this.datafields[i, 2] = this.cursorname + ".Rind_zadnji"
		
		i = i + 1
		this.datafields[i, 1] = "txtRind_tgor"
		this.datafields[i, 2] = this.cursorname + ".Rind_tgor"
		
		i = i + 1
		this.datafields[i, 1] = "txtRind_datum"
		this.datafields[i, 2] = this.cursorname + ".Rind_datum"    
		
		i = i + 1
		this.datafields[i, 1] = "txtRindStratNaziv"
		this.datafields[i, 2] = this.cursorname + ".rind_strat_naziv"
		
		i = i + 1
		this.datafields[i, 1] = "txtRindDatNext"
		this.datafields[i, 2] = this.cursorname + ".rind_dat_next"
		
		i = i + 1
		this.datafields[i, 1] = "txtZadIzrObr"
		this.datafields[i, 2] = this.cursorname + ".zad_izr_obr"
		
		i = i + 1
		this.datafields[i, 1] = "txtNaslIzrObr"
		this.datafields[i, 2] = this.cursorname + ".nasl_izr_obr"
		
		i = i + 1
		this.datafields[i, 1] = "txtMetodaIzrObr"
		this.datafields[i, 2] = this.cursorname + ".metoda_izr_obr"
		
		LOCAL lcRobresti, lcGlav, lcPogVal, lcDomVal, lcTren
		lcRobresti = ALLTRIM(GF_CustomSettings("Nova.Robresti.Label"))
		lcPogVal = "v pogodbeni valuti" && caption
		lcDomVal = "v domači valuti" && caption
		lcTren = "(trenutno)" && caption
		lcGlav = "Glavnica" && caption
		this.lblRobresti_sit.Caption = lcRobresti 
		This.txtRobresti_zac.ToolTipText = lcRobresti + SPACE(1) + lcPogVal
		This.txtRobresti_sit.ToolTipText = lcRobresti + SPACE(1) + lcDomVal
		This.txtRobresti_val.ToolTipText = lcRobresti + SPACE(1) + lcPogVal + SPACE(1) + lcTren
		This.txtVr_val_zac.ToolTipText = lcGlav + SPACE(1) + lcPogVal
		This.txtVr_sit.ToolTipText = lcGlav + SPACE(1) + lcDomVal
		This.txtVr_val.ToolTipText = lcGlav + SPACE(1) + lcPogVal + SPACE(1) + lcTren
		
		this.cmdOpenCustomer.Enabled = .T. 
		this.cmdOpenSupplier.Enabled = .T. 
		
		this.txtpo_tecaju_inv.Visible = glInvTecaj
		this.txtpo_tecaju.Visible = !glInvTecaj
		this.txtpo_tecaju_inv.Top = this.txtpo_tecaju.Top
		this.txtpo_tecaju_inv.Left = this.txtpo_tecaju.Left
		
		** nazivi stroškov
		lcSql = "select sif_terj, naziv from dbo.vrst_ter where sif_terj in ('ZATE', 'ZAVF', 'STRX')"
		GF_SQLEXEC(lcSql, "_vrst_ter_naziv")
		LOCATE FOR sif_terj = "ZATE"
		IF FOUND() THEN 
			lcText = ALLTRIM(PROPER(_vrst_ter_naziv.naziv))
			This.txtStroski_ZT.ToolTipText = lcText
			IF LEN(lcText) > 15 THEN 
				lcText = LEFT(lcText, 15) + "..."
			ENDIF 
			This.lblStroski_ZT.Caption = lcText
		ELSE
			This.lblStroski_ZT.Visible = .F.
			This.txtStroski_ZT.Visible = .F.
			This.txtId_val19.Visible = .F.
			This.txtZapade_zt.Visible = .F.
		ENDIF 
		
		LOCATE FOR sif_terj = "STRX"
		IF FOUND() THEN 
			lcText = ALLTRIM(PROPER(_vrst_ter_naziv.naziv))
			This.txtStroski_x.ToolTipText = lcText
			IF LEN(lcText) > 15 THEN 
				lcText = LEFT(lcText, 15) + "..."
			ENDIF 
			This.lblStroski_x.Caption = lcText	
		ELSE
			This.lblStroski_x.Visible = .F.
			This.txtStroski_x.Visible = .F.
			This.txtId_val22.Visible = .F.
		ENDIF 
		
		LOCATE FOR sif_terj = "ZAVF"
		IF FOUND() THEN 
			lcText = ALLTRIM(PROPER(_vrst_ter_naziv.naziv))
			This.txtZav_fin.ToolTipText = lcText
			IF LEN(lcText) > 15 THEN 
				lcText = LEFT(lcText, 15) + "..."
			ENDIF 
			This.lblZav_fin.Caption = lcText	
		ELSE
			This.lblZav_fin.Visible = .F.
			This.txtZav_fin.Visible = .F.
			This.txtId_val16.Visible = .F.
			This.txtZapade_zf.Visible = .F.
		ENDIF 
		IF USED("_vrst_ter_naziv") THEN 
			USE IN _vrst_ter_naziv
		ENDIF 
		
		* V CUSTOM_SETTINGS je nastavitev za preimenovanje telefona, gsm in faxa partnerja
		LOCAL lcTelefonNaziv, lcGsmNaziv, lcFaxNaziv  
		lcTelefonNaziv= ALLTRIM(GF_CustomSettings("Nova.LE.CustomerTelephoneName"))
		IF !EMPTY(lcTelefonNaziv)
			this.lblpartner_telefon.Caption = lcTelefonNaziv
		ENDIF
		lcGsmNaziv = ALLTRIM(GF_CustomSettings("Nova.LE.CustomerGsmName"))
		IF !EMPTY(lcGsmNaziv)
			this.lblpartner_gsm.Caption = lcGsmNaziv 
		ENDIF
		lcFaxNaziv = ALLTRIM(GF_CustomSettings("Nova.LE.CustomerFaxName"))
		IF !EMPTY(lcFaxNaziv)
			this.lblpartner_fax.Caption = lcFaxNaziv 
		ENDIF
		
	ENDPROC

	PROCEDURE readdata
		LOCAL lcSQLPrepare, laPar[2]
		
		lcSQLPrepare = "select id_dob from dbo.pogodba where id_pog = ?p1 and id_kupca = ?p2"
		laPar[1] = this.dataid
		laPar[2] = this.idkupca
		GF_SQLEXEC_P(lcSQLPrepare, @laPar, "cur_dobavitelj")
		
		DIMENSION laPar[3]
		laPar[3] = cur_dobavitelj.id_dob
		lcSQLPrepare = this.inputsql 
		
		IF USED("cur_dobavitelj") THEN 
			USE IN cur_dobavitelj
		ENDIF 
		
		GF_SQLEXEC_P(lcSQLPrepare, @laPar, this.cursorname)
		
	ENDPROC

	PROCEDURE requery		&& Requeries the row source to which the ListBox or ComboBox control is bound.
		LOCAL lnCount, lcCommand
		
		FOR lnCount = 1 TO ALEN(this.datafields,1)
			lcCommand = "this." + ALLTRIM(TRANSFORM(this.datafields(lnCount,1))) + ".ControlSource = [" + ALLTRIM(TRANSFORM(this.datafields(lnCount,2))) + "]"
			&lcCommand 
		ENDFOR
		
		this.txtpo_tecaju_inv.Value = EVALUATE("GF_XR_Show(" + this.cursorname + ".po_tecaju)")
		
		this.show_controls
	ENDPROC

	PROCEDURE show_controls
		LOCAL lcCursor, lcSql, laParm[1], llCS, llVisible
		lcCursor = this.cursorname 
		
		IF (!GF_NULLOREMPTY(&lcCursor..metoda_izr_obr)) THEN 
			this.lblObdobja.Caption = "Plačevanje G/O" && Caption
			this.lblOst_obr.Caption = "Obrok glavnice" && Caption
			This.txtObdobja_naziv.ToolTipText = "Obd. plačevanja glavnice" && Caption
			this.txtobdobja_obresti_naziv.Visible = .T.
			this.lblzadIzrObr.Visible = .T.
			this.txtzadIzrObr.Visible = .T.
			this.lblnaslIzrObr.Visible = .T.
			this.txtnaslIzrObr.Visible = .T.
			this.txtmetodaIzrObr.Visible = .T.
			This.lblMetodaIzrObr.Visible = .T.
			this.txtTip_om.Visible = .F.
		
			IF (!this.installment_credit_reloaded)
				TEXT TO lcSql NOSHOW 
					select 
						a.change_date,
						a.obr_mera,
						b.fix_del,
						a.max_id
					from (
						select 
							max(a.id) as max_id,
							a.id_cont,
							max(a.change_date) as change_date, 
							dbo.gfn_InstallmentCredit_GetCurrentInterestRate(a.id_cont, getdate()) as obr_mera
						from
							dbo.interest_calculation_rules as a
						where 
							a.id_cont = ?p1 and change_date < getdate()
						group by 
							a.id_cont) as a
						inner join dbo.interest_calculation_rules as b on a.id_cont = b.id_cont and a.change_date = b.change_date
				ENDTEXT 
		
				laParm = &lcCursor..id_cont
				GF_SQLEXEC_P(lcSql, @laParm, "installment_credit_data")
				
				this.lblOststr.Visible = RECCOUNT("installment_credit_data") = 0
				this.txtoststr.Visible = RECCOUNT("installment_credit_data") = 0
				this.txtid_val7.Visible = RECCOUNT("installment_credit_data") = 0
				this.lblcalcInt.Visible = RECCOUNT("installment_credit_data") = 1
				this.txtcalcInt.Visible = RECCOUNT("installment_credit_data") = 1
				this.txtcalcInt2.Visible = RECCOUNT("installment_credit_data") = 1
				this.txtcalcInt3.Visible = RECCOUNT("installment_credit_data") = 1
				this.cmdShowCalcRules.Visible = RECCOUNT("installment_credit_data") = 1
				IF RECCOUNT("installment_credit_data") = 1
					this.txtcalcInt.Value = installment_credit_data.obr_mera
					this.txtcalcInt2.Value = installment_credit_data.fix_del
					this.txtcalcInt3.Value = installment_credit_data.change_date
				ENDIF 
				this.installment_credit_reloaded = .T.
			ENDIF 
		ENDIF 
		
		IF (!gf_NullOrEmpty(&lcCursor..id_rind_strategije))
			this.lblrindStrat.Visible = .T.
			this.txtrindStratNaziv.Visible = .T.
			this.txtrindDatNext.Visible = .T.
		ENDIF
		
		IF !GF_NULLOREMPTY(&lcCursor..nacin_leas) THEN
			IF (&lcCursor..installment_credit = .F. AND !GF_NULLOREMPTY(&lcCursor..interest_template)) THEN
				this.txtTip_om.Visible = .T.		
			ENDIF
		ENDIF
		
		** odkup in ostanek vrednosti (trenutno)
		llCS = GF_CustomSettingsAsBool("Nova.Block_pogodba.AlwaysShowCurrentOPC")
		llVisible = (&lcCursor..ima_opcijo OR llCS)
		This.txtOpcija_tren.Visible = llVisible
		This.txtOdkupVarsc_tren.Visible = llVisible
		This.txtId_val14.Visible = llVisible
		This.txtId_val15.Visible = llVisible
		
	ENDPROC

	PROCEDURE sql_statement		&& Sql querry
		LOCAL lcSql
		
		TEXT TO lcSql NOSHOW 
		
		declare @date datetime, @id_pog varchar(11), @id_cont int
		set @date = getdate()
		set @id_pog = ?p1
		set @id_cont = (dbo.gfn_Id_cont4Id_pog(@id_pog))
		
		declare @st_dokOPC varchar(50), @nacin_leas char(2), @id_tec char(3)
		select @nacin_leas = nacin_leas, @id_tec = id_tec from dbo.pogodba where id_cont = @id_cont
		
		declare @planp table (id_cont int, max_dat_zap datetime, tren_vars decimal(18,2))
		insert into @planp (id_cont, max_dat_zap, tren_vars)
		select 
		    pp1.id_cont, 
		    max(pp1.dat_zap) max_dat_zap, 
		    sum(case when vt.sif_terj = 'VARS' then dbo.gfn_xchange(@id_tec, pp1.debit - pp1.davek, pp1.id_tec, pp1.datum_dok) else 0 end) as tren_vars 
		from 
		    dbo.planp pp1
		    inner join dbo.vrst_ter vt on pp1.id_terj = vt.id_terj
		where pp1.id_cont = @id_cont
		group by pp1.id_cont
		
		select
		    p.id_cont, p.id_pog, p.nacin_leas, p.id_kredpog, p.dat_sklen, p.id_ref, p.id_svet, p.spl_pog, p.subleasing, p.aneks, 
		    p.dat_zakl, p.njih_st, p.id_kupca, p.pred_naj, p.naziv_tuje, p.id_vrste, p.je_nk, p.id_val, 
		    p.vr_val_zac, p.vr_sit, p.vr_val, p.robresti_zac, p.robresti_sit, p.vred_val, p.mpc, p.net_nal_zac, p.net_nal, 
		    p.prv_obr, p.st_obrok, p.ost_obr, p.opcija, p.varscina, p.po_tecaju, p.ddv_id, p.ost_obr, p.zap_2ob, p.obrok1, 
		    p.oststr, p.zap_opc, p.opcija_tren tren_opc, p.ddv, p.dobrocno, p.dat_pol, p.man_str, 
		    p.stroski_zt, p.zapade_zt, p.stroski_x, p.zav_fin, p.zapade_zf, p.traj_naj, p.zac_naj, p.kon_naj, 
		    p.ef_obrm, p.ef_obrm_tren, p.obr_merak, p.dej_obr, p.fix_del, p.obr_mera, p.tip_om, p.Rind_zadnji, 
		    p.rind_tgor, p.rind_datum, p.rind_dat_next, p.id_dob, p.robresti_val, p.id_rind_strategije, p.interest_template, 
		    par.naz_kr_kup as partner_naz_kr_kup, par.emso as partner_emso, par.dav_stev as partner_dav_stev, 
		    par.ulica as partner_ulica, par.id_poste as partner_id_poste, par.mesto as partner_mesto, 
		    par.telefon as partner_telefon, 
		    par.fax as partner_fax, par.kontakt as partner_kontakt, par.vr_osebe as partner_vr_osebe, par.ulica_sed, 
		    par.id_poste_sed, par.mesto_sed, par.asset_clas as b2_kateg, 
		    par.skrbnik_1, par.skrbnik_2, par.gsm as partner_gsm, par.sif_dej as sif_par, 
		    dob.naz_kr_kup as dobavitelj_naz_kr_kup, dob.emso as dobavitelj_emso, dob.dav_stev as dobavitelj_dav_stev, 
		    dob.sif_dej as sif_dob, 
		    tr.trr as partner_zr1, par.zr2 as partner_zr2, par.zr3 as partner_zr3, 
		    t.naziv as tecajnic_naziv, 
		    v.naziv as vrst_opr_naziv, 
		    dbo.gfn_getmarketvalue(p.id_cont, @date, p.dat_aktiv) as trz_vred,
		    cast(n.odstej_var as int) as odstej_var, n.installment_credit, n.ima_opcijo, 
		    p.opcija + case when n.odstej_var = 1 then p.varscina else 0 end ost_vred, 
		    isnull(p.opcija_tren, 0) + case when n.odstej_var = 1 then isnull(pp.tren_vars, 0) else 0 end ost_vred_tren, 
		    pp.max_dat_zap, 
		    d1.opis as dav_stop_opis, d2.opis as dav_stop_op_opis, 
		    r.naziv as rtip_naziv, 
		    strat.naziv as rind_strat_naziv, 
		    inst.last_calc_date as zad_izr_obr, 
		    dbo.gfn_InstallmentCredit_GetNextIntCalcDate(@date, p.id_cont) as nasl_izr_obr, 
		    o1.naziv as obdobja_naziv, o2.naziv as obd_obr_naziv, 
		    it.description as metoda_izr_obr 
		from
		    dbo.pogodba p
		    inner join dbo.partner par on p.id_kupca = par.id_kupca
		    inner join dbo.partner dob on p.id_dob = dob.id_kupca
		    inner join dbo.tecajnic t on p.id_tec = t.id_tec
		    inner join dbo.vrst_opr v on p.id_vrste = v.id_vrste
		    inner join dbo.nacini_l n on p.nacin_leas = n.nacin_leas 
		    inner join dbo.rtip r on p.id_rtip = r.id_rtip 
		    inner join dbo.dav_stop d1 on p.id_dav_st = d1.id_dav_st 
		    inner join dbo.obdobja o1 on p.id_obd = o1.id_obd 
		    left join dbo.dav_stop d2 on p.id_dav_op = d2.id_dav_st
		    left join dbo.obdobja o2 on p.id_obd_obr = o2.id_obd 
		    left join dbo.partner_trr tr on par.id_kupca = tr.id_kupca and tr.prioriteta = 1 and tr.aktivnost = 'A'
		    left join @planp pp on p.id_cont = pp.id_cont 
		    left join dbo.rind_strategije as strat on p.id_rind_strategije = strat.id_rind_strategije 
		    left join dbo.gv_InstallmentCredit_LastCalculationDate as inst on p.id_cont = inst.id_cont 
		    left join dbo.interest_template as it on p.interest_template = it.id_interest_template 
		where p.id_cont = @id_cont 
		
		ENDTEXT 
		
		RETURN lcSql
	ENDPROC

	PROCEDURE update_eom
		LPARAMETERS tcId_cont
		LOCAL lcXML, lcRes, llChanged
		
		lcXML = "<?xml version='1.0' encoding='utf-8' ?>" + gcE
		lcXML = lcXML + '<rpg_change_eom_tren xmlns="urn:gmi:nova:leasing">' + gcE
		lcXML = lcXML + GF_CreateNode("id_cont", tcId_cont, "N", 1)+ gcE
		lcXML = lcXML + GF_CreateNode("insert_into_reprogram", .T., "L", 1)+ gcE
		lcXML = lcXML + '</rpg_change_eom_tren>'
		
		
		lcRes = GF_ProcessXml(lcXML, .T., .T.)
		IF !EMPTY(lcRes) AND TYPE("lcRes") = "C" THEN
			llChanged = IIF(GF_GetSingleNodeXml(lcRes, "change_made") = "false", .F., .T.)
		ENDIF
		RETURN llChanged
		
	ENDPROC

	PROCEDURE cmdIzracunEOMa.Click
		LOCAL lcCursor, lnEom, lcPoint, lcPermission, lnId_cont, lcText
		LOCAL lcRes, lcEom, llAlwaysSave, lcObvesti
		
		lcCursor = this.Parent.cursorname
		lnId_cont = &lcCursor..id_cont
		
		lcXML = "<?xml version='1.0' encoding='utf-8' ?>" + gcE
		lcXML = lcXML + '<calculate_EOM xmlns="urn:gmi:nova:leasing">' + gcE
		lcXML = lcXML + GF_CreateNode("id_cont", lnId_cont, "N", 1)+ gcE
		lcXML = lcXML + '</calculate_EOM>'
		
		lcRes = GF_ProcessXml(lcXML, .T., .T.)
		IF !EMPTY(lcRes) AND TYPE("lcRes") = "C" THEN
			lcEom = GF_GetSingleNodeXml(lcRes, "calc_EOM")
			lcPoint = SET('POINT')
			SET POINT TO '.'
			lnEom = ROUND(VAL(lcEom),4)
			SET POINT TO lcPoint
			IF VAL(lcEom) <> -1  
				lcPermission = "UpdateEOM_Dashboard"
				lcText = "Trenutna vrednost EOM:"+ SPACE(1) + TRANSFORM(lnEom) + SPACE(1)+"%" &&caption
				IF GOBJ_Permissions.GetPermission(lcPermission) < 2 THEN 
					OBVESTI(lcText)
				ELSE
					llAlwaysSave = GF_CustomSettingsAsBool("Nova.Block_pogodba.EOMAutoSave") 
					IF llAlwaysSave OR POTRJENO(lcText  + gcE + "Želite shraniti novo EOM?")
						IF This.Parent.Update_eom(lnId_cont) OR llAlwaysSave
							REPLACE ef_obrm_tren WITH lnEom IN &lcCursor
							This.Parent.txtEf_obrm_tren.Refresh
							IF llAlwaysSave
								lcObvesti = lcText
							ELSE
								lcObvesti = INFSAVED_LOC
							ENDIF
							obvesti(lcObvesti)
						ENDIF
					ENDIF
				ENDIF 
			ELSE
				OBVESTI("Izračun EOM ni bil uspešen:" + SPACE(1) + lcEom)
			ENDIF
		ELSE
			RETURN .F.
		ENDIF
		
	ENDPROC

	PROCEDURE cmdOpenCustomer.Click
		LOCAL lcIDKupca, lcCommand
		
		lcCommand = "lcIDKupca = " + this.Parent.cursorname  + "." + "ID_Kupca"
		&lcCommand
		
		IF LEN(ALLTRIM(TRANSFORM(lcIDKupca))) = 0 Then
			Pozor("Šifra dobavitelja je prazna!") &&CAPTION
		ELSE
			DO FORM ("partner_dashboard") with lcIDKupca 
		ENDIF
	ENDPROC

	PROCEDURE cmdOpenSupplier.Click
		LOCAL lcIDKupca, lcCommand
		
		lcCommand = "lcIDKupca = " + this.Parent.cursorname  + "." + "ID_Dob"
		&lcCommand
		
		IF LEN(ALLTRIM(TRANSFORM(lcIDKupca))) = 0 Then
			Pozor("Šifra dobavitelja je prazna!") &&CAPTION
		ELSE
			DO FORM ("partner_dashboard") WITH lcIDKupca 
		ENDIF
		
	ENDPROC

	PROCEDURE cmdShowCalcRules.Click
		DO FORM ("interest_calc_rules_maska") WITH installment_credit_data.max_id, 2
		
	ENDPROC

ENDDEFINE

DEFINE CLASS block_ponudba AS container 
 	*< CLASSDATA: Baseclass="container" Timestamp="" Scale="Pixels" Uniqueid="" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="shpPonudba" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Shape1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblVr_neto" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNaziv_kup" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPred_naj" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel4" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNaziv_dob" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtRabatd_p" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel5" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel6" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext4" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel7" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel8" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel9" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtId_pon" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext8" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel10" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel11" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext10" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel12" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext11" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel13" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext12" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel14" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext13" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel15" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext14" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel16" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext15" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel17" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext16" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel18" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext17" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel19" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext18" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext19" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel20" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext20" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel21" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Bcombolist1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Bcombolist2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Bcombolist3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel22" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext9" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Bcombolist4" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel23" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext21" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Bcheck1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel24" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext22" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel25" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext23" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel26" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext24" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel27" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext25" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Bcombolist5" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel28" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel29" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel30" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext26" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel31" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext27" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Bcheck2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel32" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext28" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel33" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext29" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtZtproc" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtStroski_zt" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPzproc" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtStroski_pz" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtzfproc" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtzav_fin" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtProc_x" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtStroski_x" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblStroski_zt" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblStroski_pz" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblZav_fin" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblStroski_x" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel38" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Line1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext36" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext37" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext38" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel39" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext39" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel40" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext40" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext41" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext42" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext43" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext44" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext45" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext46" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel34" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Bcombolist6" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Btext7" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Datum1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Datum2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="edtOpombe" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDat_pon" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDat_pon" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDavStop" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblRobresti_val" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtrObresti_val" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblDDT" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDatDokTip" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="chkJe_nk" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNovoNabavVred" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblNovoNabavVred" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtFaktPremStop" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblFaktPremStop" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtRefinanc" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel35" UniqueID="" Timestamp="" />

	*<DefinedPropArrayMethod>
		*m: clear		&& Empry fields
		*m: readdata
		*m: requery		&& Updates control source from datafelds array and requeries controls
		*p: block_height		&& Stores optimal height of the block
		*p: block_width		&& stores optimal width of the block
		*p: cursorname
		*p: dataid
		*p: inputsql
		*p: ismodul_newpurchasevalue
		*p: tip_vnosne_maske
		*a: datafields[1,1]
	*</DefinedPropArrayMethod>

	block_height = 500		&& Stores optimal height of the block
	block_width = 783		&& stores optimal width of the block
	BorderWidth = 0
	Height = 548
	Name = "block_ponudba"
	Width = 997

	ADD OBJECT 'Bcheck1' AS bcheck WITH ;
		Caption = "Fizična oseba", ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 17, ;
		Left = 862, ;
		Name = "Bcheck1", ;
		TabIndex = 3, ;
		Top = 35, ;
		Width = 111
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="checkbox" />

	ADD OBJECT 'Bcheck2' AS bcheck WITH ;
		Caption = "DDV v obrokih", ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 17, ;
		Left = 872, ;
		Name = "Bcheck2", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 103, ;
		Top = 190, ;
		Width = 101
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="checkbox" />

	ADD OBJECT 'Bcombolist1' AS bcombolist WITH ;
		BoundColumn = 2, ;
		ControlSource = "", ;
		DisabledBackColor = 212,208,200, ;
		DisabledForeColor = 128,0,64, ;
		DisabledItemForeColor = 128,0,64, ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 775, ;
		Name = "Bcombolist1", ;
		RowSource = "obdobja.naziv,id_obd", ;
		RowSourceType = 6, ;
		TabIndex = 83, ;
		Top = 151, ;
		Width = 179
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="combobox" />

	ADD OBJECT 'Bcombolist2' AS bcombolist WITH ;
		BoundColumn = 2, ;
		ControlSource = "", ;
		DisabledBackColor = 212,208,200, ;
		DisabledForeColor = 128,0,64, ;
		DisabledItemForeColor = 128,0,64, ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 204, ;
		Name = "Bcombolist2", ;
		RowSource = "nacini_l.naziv,nacin_leas", ;
		RowSourceType = 6, ;
		TabIndex = 84, ;
		Top = 10, ;
		Width = 335
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="combobox" />

	ADD OBJECT 'Bcombolist3' AS bcombolist WITH ;
		BoundColumn = 2, ;
		ControlSource = "", ;
		DisabledBackColor = 212,208,200, ;
		DisabledForeColor = 128,0,64, ;
		DisabledItemForeColor = 128,0,64, ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 444, ;
		Name = "Bcombolist3", ;
		RowSource = "dav_stop.opis,id_dav_st", ;
		RowSourceType = 6, ;
		TabIndex = 85, ;
		Top = 189, ;
		Visible = .F., ;
		Width = 36
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="combobox" />

	ADD OBJECT 'Bcombolist4' AS bcombolist WITH ;
		BoundColumn = 2, ;
		ControlSource = "", ;
		DisabledBackColor = 212,208,200, ;
		DisabledForeColor = 128,0,64, ;
		DisabledItemForeColor = 128,0,64, ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 198, ;
		Name = "Bcombolist4", ;
		RowSource = "rtip.naziv,id_rtip", ;
		RowSourceType = 6, ;
		TabIndex = 88, ;
		Top = 328, ;
		Width = 126
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="combobox" />

	ADD OBJECT 'Bcombolist5' AS bcombolist WITH ;
		BackColor = 244,251,189, ;
		BoundColumn = 2, ;
		ControlSource = "", ;
		DisabledBackColor = 212,208,200, ;
		DisabledForeColor = 128,0,64, ;
		DisabledItemForeColor = 128,0,64, ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 133, ;
		Name = "Bcombolist5", ;
		RowSource = "vrst_opr.naziv,id_vrste", ;
		RowSourceType = 6, ;
		TabIndex = 10, ;
		Top = 129, ;
		Width = 221
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="combobox" />

	ADD OBJECT 'Bcombolist6' AS bcombolist WITH ;
		BackColor = 244,251,189, ;
		BoundColumn = 2, ;
		ControlSource = "", ;
		DisabledBackColor = 212,208,200, ;
		DisabledForeColor = 128,0,64, ;
		DisabledItemForeColor = 128,0,64, ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 775, ;
		Name = "Bcombolist6", ;
		RowSource = "tecajnic.naziv,id_tec", ;
		RowSourceType = 6, ;
		TabIndex = 11, ;
		Top = 131, ;
		Width = 179
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="combobox" />

	ADD OBJECT 'Blabel1' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Za koga", ;
		Left = 9, ;
		Name = "Blabel1", ;
		TabIndex = 35, ;
		Top = 35, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel10' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Davčna stopnja", ;
		Height = 17, ;
		Left = 192, ;
		Name = "Blabel10", ;
		TabIndex = 46, ;
		Top = 191, ;
		Width = 93
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel11' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Št.vseh obrokov", ;
		Left = 9, ;
		Name = "Blabel11", ;
		TabIndex = 49, ;
		Top = 191, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel12' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Obrok bruto", ;
		Left = 9, ;
		Name = "Blabel12", ;
		TabIndex = 51, ;
		Top = 265, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel13' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Varščina", ;
		Left = 254, ;
		Name = "Blabel13", ;
		TabIndex = 53, ;
		Top = 244, ;
		Width = 78
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel14' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Dod. stor.", ;
		Left = 254, ;
		Name = "Blabel14", ;
		TabIndex = 56, ;
		Top = 266, ;
		Width = 78
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel15' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Odkupna vrednost", ;
		Left = 9, ;
		Name = "Blabel15", ;
		TabIndex = 58, ;
		Top = 286, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel16' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Obrestna mera", ;
		Left = 9, ;
		Name = "Blabel16", ;
		TabIndex = 64, ;
		Top = 328, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel17' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Način vračila glavnice", ;
		Height = 17, ;
		Left = 279, ;
		Name = "Blabel17", ;
		TabIndex = 66, ;
		Top = 371, ;
		Width = 134
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel18' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Diskontna stop. %", ;
		Height = 17, ;
		Left = 9, ;
		Name = "Blabel18", ;
		TabIndex = 68, ;
		Top = 371, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel19' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Vrednost v", ;
		Height = 17, ;
		Left = 5, ;
		Name = "Blabel19", ;
		TabIndex = 69, ;
		Top = 153, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel2' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Predmet ponudbe", ;
		Height = 17, ;
		Left = 9, ;
		Name = "Blabel2", ;
		TabIndex = 36, ;
		Top = 57, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel20' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Trajanje (meseci)", ;
		Height = 17, ;
		Left = 321, ;
		Name = "Blabel20", ;
		TabIndex = 80, ;
		Top = 153, ;
		Width = 148
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel21' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Plačevanje", ;
		Height = 17, ;
		Left = 696, ;
		Name = "Blabel21", ;
		TabIndex = 82, ;
		Top = 153, ;
		Width = 76
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel22' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "DDV", ;
		Left = 697, ;
		Name = "Blabel22", ;
		TabIndex = 86, ;
		Top = 190
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel23' AS blabel WITH ;
		Caption = "+", ;
		Left = 323, ;
		Name = "Blabel23", ;
		TabIndex = 89, ;
		Top = 307
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel24' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Akont. registracije", ;
		Left = 9, ;
		Name = "Blabel24", ;
		TabIndex = 91, ;
		Top = 392, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel25' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Notarski stroški", ;
		Left = 9, ;
		Name = "Blabel25", ;
		TabIndex = 92, ;
		Top = 414, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel26' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Dovoljeni kilometri", ;
		Left = 9, ;
		Name = "Blabel26", ;
		TabIndex = 93, ;
		Top = 434, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel27' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Cena dodatnega km", ;
		Height = 17, ;
		Left = 464, ;
		Name = "Blabel27", ;
		TabIndex = 94, ;
		Top = 434, ;
		Width = 137
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel28' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Vrsta opreme", ;
		Left = 9, ;
		Name = "Blabel28", ;
		TabIndex = 96, ;
		Top = 130, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel29' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Tečajnica", ;
		Height = 17, ;
		Left = 685, ;
		Name = "Blabel29", ;
		TabIndex = 97, ;
		Top = 133, ;
		Width = 87
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel3' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Polog bruto", ;
		Left = 9, ;
		Name = "Blabel3", ;
		TabIndex = 44, ;
		Top = 244, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel30' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Marža v obroku %", ;
		Left = 821, ;
		Name = "Blabel30", ;
		TabIndex = 98, ;
		Top = 246, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel31' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Marža v pologu %", ;
		Left = 654, ;
		Name = "Blabel31", ;
		TabIndex = 100, ;
		Top = 246, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel32' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Plačila na začetku", ;
		Height = 17, ;
		Left = 468, ;
		Name = "Blabel32", ;
		TabIndex = 109, ;
		Top = 299, ;
		Width = 364
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel33' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "EOM", ;
		Left = 827, ;
		Name = "Blabel33", ;
		TabIndex = 116, ;
		Top = 468
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel34' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Manipulat. str.", ;
		Left = 254, ;
		Name = "Blabel34", ;
		TabIndex = 110, ;
		Top = 287, ;
		Width = 78
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel35' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Koda refinanciranja", ;
		Height = 17, ;
		Left = 468, ;
		Name = "Blabel35", ;
		TabIndex = 109, ;
		Top = 277, ;
		Width = 364
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel38' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Skupaj plačila na začetku", ;
		Height = 17, ;
		Left = 683, ;
		Name = "Blabel38", ;
		TabIndex = 111, ;
		Top = 434, ;
		Width = 153
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel39' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Št. dni", ;
		Height = 17, ;
		Left = 716, ;
		Name = "Blabel39", ;
		TabIndex = 108, ;
		Top = 404, ;
		Width = 47
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel4' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Dobavitelj", ;
		Left = 9, ;
		Name = "Blabel4", ;
		TabIndex = 37, ;
		Top = 88, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel40' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Obresti financiranja", ;
		Height = 17, ;
		Left = 500, ;
		Name = "Blabel40", ;
		TabIndex = 107, ;
		Top = 404, ;
		Width = 153
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel5' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Rabat dobavitelja v %", ;
		Height = 17, ;
		Left = 704, ;
		Name = "Blabel5", ;
		TabIndex = 38, ;
		Top = 88, ;
		Width = 155
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel6' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Priznani rabat kupcu %", ;
		Height = 17, ;
		Left = 714, ;
		Name = "Blabel6", ;
		TabIndex = 39, ;
		Top = 110, ;
		Width = 145
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel7' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "(Pred) račun št.", ;
		Left = 9, ;
		Name = "Blabel7", ;
		TabIndex = 40, ;
		Top = 110, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel8' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "z dne", ;
		Height = 17, ;
		Left = 437, ;
		Name = "Blabel8", ;
		TabIndex = 41, ;
		Top = 110, ;
		Width = 40
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel9' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "veljaven do", ;
		Height = 17, ;
		Left = 559, ;
		Name = "Blabel9", ;
		TabIndex = 42, ;
		Top = 111, ;
		Width = 75
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Btext1' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 133, ;
		Name = "Btext1", ;
		obvezen = .F., ;
		TabIndex = 5, ;
		Top = 84, ;
		Width = 57
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext10' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 133, ;
		Name = "Btext10", ;
		TabIndex = 50, ;
		Top = 190, ;
		Width = 59
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext11' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 133, ;
		Name = "Btext11", ;
		TabIndex = 52, ;
		Top = 264, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext12' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 333, ;
		Name = "Btext12", ;
		TabIndex = 55, ;
		Top = 244, ;
		Width = 106
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext13' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 333, ;
		Name = "Btext13", ;
		TabIndex = 57, ;
		Top = 265, ;
		Width = 106
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext14' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 133, ;
		Name = "Btext14", ;
		TabIndex = 62, ;
		Top = 285, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext15' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999.9999", ;
		Left = 133, ;
		Name = "Btext15", ;
		TabIndex = 65, ;
		Top = 327, ;
		Width = 63
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext16' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "9", ;
		Left = 414, ;
		Name = "Btext16", ;
		TabIndex = 67, ;
		ToolTipText = "Ali se glavnica vrača na začetku obdobja (1 - begin, 0 - end)", ;
		Top = 370, ;
		Width = 25
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext17' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999.9999", ;
		Left = 132, ;
		Name = "Btext17", ;
		TabIndex = 12, ;
		Top = 370, ;
		Width = 64
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext18' AS btext WITH ;
		BorderStyle = 0, ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 86, ;
		Name = "Btext18", ;
		ReadOnly = .T., ;
		TabIndex = 76, ;
		Top = 153, ;
		Width = 47
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext19' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 133, ;
		Name = "Btext19", ;
		TabIndex = 79, ;
		Top = 152, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext2' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 333, ;
		Name = "Btext2", ;
		TabIndex = 114, ;
		Top = 286, ;
		Width = 106
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext20' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 476, ;
		Name = "Btext20", ;
		TabIndex = 81, ;
		Top = 151, ;
		Width = 60
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext21' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "99.9999", ;
		Left = 333, ;
		Name = "Btext21", ;
		TabIndex = 90, ;
		Top = 328, ;
		Width = 53
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext22' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 132, ;
		Name = "Btext22", ;
		TabIndex = 13, ;
		Top = 391, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext23' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 132, ;
		Name = "Btext23", ;
		TabIndex = 14, ;
		Top = 412, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext24' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999999", ;
		Left = 132, ;
		Name = "Btext24", ;
		TabIndex = 28, ;
		Top = 432, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext25' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999.99", ;
		Left = 603, ;
		Name = "Btext25", ;
		TabIndex = 29, ;
		Top = 433, ;
		Width = 78
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext26' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "99.9999", ;
		Left = 922, ;
		Name = "Btext26", ;
		TabIndex = 99, ;
		Top = 245, ;
		Width = 65
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext27' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "99.9999", ;
		Left = 755, ;
		Name = "Btext27", ;
		TabIndex = 101, ;
		Top = 245, ;
		Width = 65
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext28' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 841, ;
		Name = "Btext28", ;
		TabIndex = 115, ;
		Top = 298, ;
		Width = 112
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext29' AS btext WITH ;
		ControlSource = "", ;
		DisabledBackColor = 175,237,182, ;
		Enabled = .F., ;
		FontBold = .T., ;
		Height = 19, ;
		InputMask = "999.9999%", ;
		Left = 870, ;
		Name = "Btext29", ;
		TabIndex = 117, ;
		Top = 467, ;
		Width = 81
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext3' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999.99", ;
		Left = 862, ;
		Name = "Btext3", ;
		ReadOnly = .F., ;
		TabIndex = 32, ;
		Top = 109, ;
		Width = 76
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext36' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .T., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 840, ;
		Name = "Btext36", ;
		ReadOnly = .T., ;
		TabIndex = 113, ;
		Top = 433, ;
		Width = 112
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext37' AS btext WITH ;
		BackColor = 175,237,182, ;
		ControlSource = "", ;
		Enabled = .T., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 841, ;
		Name = "Btext37", ;
		ReadOnly = .T., ;
		TabIndex = 27, ;
		Top = 402, ;
		Width = 112
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext38' AS btext WITH ;
		BackColor = 175,237,182, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "9999", ;
		Left = 768, ;
		Name = "Btext38", ;
		ReadOnly = .F., ;
		TabIndex = 26, ;
		Top = 381, ;
		Width = 69
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext39' AS btext WITH ;
		BackColor = 175,237,182, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "99.9999", ;
		Left = 656, ;
		Name = "Btext39", ;
		ReadOnly = .F., ;
		TabIndex = 25, ;
		Top = 402, ;
		Width = 60
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext4' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 133, ;
		Name = "Btext4", ;
		obvezen = .F., ;
		TabIndex = 7, ;
		Top = 108, ;
		Width = 300
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext40' AS btext WITH ;
		BorderStyle = 0, ;
		ControlSource = "", ;
		Enabled = .F., ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 954, ;
		Name = "Btext40", ;
		ReadOnly = .T., ;
		TabIndex = 73, ;
		Top = 301, ;
		Width = 33
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext41' AS btext WITH ;
		BorderStyle = 0, ;
		ControlSource = "", ;
		Enabled = .F., ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 954, ;
		Name = "Btext41", ;
		ReadOnly = .T., ;
		TabIndex = 71, ;
		Top = 322, ;
		Width = 33
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext42' AS btext WITH ;
		BorderStyle = 0, ;
		ControlSource = "", ;
		Enabled = .F., ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 954, ;
		Name = "Btext42", ;
		ReadOnly = .T., ;
		TabIndex = 70, ;
		Top = 340, ;
		Width = 33
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext43' AS btext WITH ;
		BorderStyle = 0, ;
		ControlSource = "", ;
		Enabled = .F., ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 954, ;
		Name = "Btext43", ;
		ReadOnly = .T., ;
		TabIndex = 77, ;
		Top = 361, ;
		Width = 33
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext44' AS btext WITH ;
		BorderStyle = 0, ;
		ControlSource = "", ;
		Enabled = .F., ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 955, ;
		Name = "Btext44", ;
		ReadOnly = .T., ;
		TabIndex = 75, ;
		Top = 382, ;
		Width = 33
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext45' AS btext WITH ;
		BorderStyle = 0, ;
		ControlSource = "", ;
		Enabled = .F., ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 955, ;
		Name = "Btext45", ;
		ReadOnly = .T., ;
		TabIndex = 72, ;
		Top = 403, ;
		Width = 33
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext46' AS btext WITH ;
		BorderStyle = 0, ;
		ControlSource = "", ;
		Enabled = .F., ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 955, ;
		Name = "Btext46", ;
		ReadOnly = .T., ;
		TabIndex = 78, ;
		Top = 432, ;
		Width = 33
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext7' AS btext WITH ;
		BorderStyle = 0, ;
		ControlSource = "", ;
		Enabled = .F., ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 955, ;
		Name = "Btext7", ;
		ReadOnly = .T., ;
		TabIndex = 74, ;
		Top = 133, ;
		Width = 33
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext8' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 133, ;
		Name = "Btext8", ;
		TabIndex = 45, ;
		Top = 243, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Btext9' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 740, ;
		Name = "Btext9", ;
		TabIndex = 87, ;
		Top = 188, ;
		Width = 127
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'chkJe_nk' AS bcheck WITH ;
		AutoSize = .T., ;
		Caption = "Nestandardna kalkulacija", ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 17, ;
		Left = 659, ;
		Name = "chkJe_nk", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 102, ;
		TabStop = .F., ;
		Top = 221, ;
		Width = 158
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="checkbox" />

	ADD OBJECT 'Datum1' AS datum WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Left = 480, ;
		Name = "Datum1", ;
		TabIndex = 8, ;
		Top = 108
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'Datum2' AS datum WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Left = 636, ;
		Name = "Datum2", ;
		TabIndex = 9, ;
		Top = 108
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'edtOpombe' AS editbox WITH ;
		Comment = "", ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 69, ;
		Left = 21, ;
		MaxLength = 1500, ;
		Name = "edtOpombe", ;
		TabIndex = 30, ;
		Top = 467, ;
		Width = 759
		*< END OBJECT: BaseClass="editbox" />

	ADD OBJECT 'Label1' AS label WITH ;
		AutoSize = .T., ;
		Caption = "Opombe", ;
		Height = 17, ;
		Left = 21, ;
		Name = "Label1", ;
		TabIndex = 95, ;
		Top = 450, ;
		Width = 50
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'lblDat_pon' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Datum ponudbe", ;
		Height = 17, ;
		Left = 741, ;
		Name = "lblDat_pon", ;
		TabIndex = 34, ;
		Top = 12, ;
		Width = 115
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblDDT' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Dat. dok. tip", ;
		Left = 10, ;
		Name = "lblDDT", ;
		TabIndex = 59, ;
		Top = 222, ;
		Visible = .F., ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblFaktPremStop' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Fakt. prem. stop.", ;
		Height = 17, ;
		Left = 9, ;
		Name = "lblFaktPremStop", ;
		TabIndex = 48, ;
		Top = 350, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblNovoNabavVred' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Novonabav. vred.", ;
		Height = 17, ;
		Left = 195, ;
		Name = "lblNovoNabavVred", ;
		TabIndex = 47, ;
		Top = 350, ;
		Width = 137
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblRobresti_val' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Robresti", ;
		Left = 9, ;
		Name = "lblRobresti_val", ;
		TabIndex = 60, ;
		Top = 307, ;
		Width = 116
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblStroski_pz' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "PRZA", ;
		Height = 17, ;
		Left = 444, ;
		Name = "lblStroski_pz", ;
		TabIndex = 105, ;
		Top = 340, ;
		Width = 322
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblStroski_x' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "STRX", ;
		Height = 17, ;
		Left = 444, ;
		Name = "lblStroski_x", ;
		TabIndex = 106, ;
		Top = 381, ;
		Width = 321
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblStroski_zt' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "ZATE", ;
		Height = 17, ;
		Left = 444, ;
		Name = "lblStroski_zt", ;
		TabIndex = 104, ;
		Top = 319, ;
		Width = 321
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblVr_neto' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Št. ponudbe", ;
		Left = 9, ;
		Name = "lblVr_neto", ;
		TabIndex = 33, ;
		Top = 12, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblZav_fin' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "ZAVF", ;
		Height = 17, ;
		Left = 444, ;
		Name = "lblZav_fin", ;
		TabIndex = 112, ;
		Top = 360, ;
		Width = 322
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Line1' AS line WITH ;
		Height = 0, ;
		Left = 548, ;
		Name = "Line1", ;
		Top = 426, ;
		Width = 440
		*< END OBJECT: BaseClass="line" />

	ADD OBJECT 'Shape1' AS shape WITH ;
		BackStyle = 0, ;
		Height = 371, ;
		Left = 1, ;
		Name = "Shape1", ;
		SpecialEffect = 0, ;
		Top = 175, ;
		Width = 995
		*< END OBJECT: BaseClass="shape" />

	ADD OBJECT 'shpPonudba' AS shape WITH ;
		Height = 173, ;
		Left = 1, ;
		Name = "shpPonudba", ;
		SpecialEffect = 0, ;
		Top = 1, ;
		Width = 995
		*< END OBJECT: BaseClass="shape" />

	ADD OBJECT 'txtDat_pon' AS datum WITH ;
		BackColor = 244,251,189, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Left = 862, ;
		Name = "txtDat_pon", ;
		obvezen = .T., ;
		TabIndex = 1, ;
		Top = 12
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDatDokTip' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 134, ;
		Name = "txtDatDokTip", ;
		TabIndex = 63, ;
		Top = 221, ;
		Visible = .F., ;
		Width = 199
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDavStop' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "", ;
		Left = 288, ;
		Name = "txtDavStop", ;
		TabIndex = 54, ;
		Top = 189, ;
		Width = 151
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtFaktPremStop' AS btext WITH ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999.99", ;
		Left = 133, ;
		MaxLength = 18, ;
		Name = "txtFaktPremStop", ;
		TabIndex = 15, ;
		Top = 349, ;
		Width = 63
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtId_pon' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .T., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 133, ;
		Name = "txtId_pon", ;
		ReadOnly = .T., ;
		TabIndex = 43, ;
		Top = 10, ;
		Width = 65
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNaziv_dob' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 196, ;
		Name = "txtNaziv_dob", ;
		obvezen = .F., ;
		TabIndex = 6, ;
		Top = 84, ;
		Width = 342
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNaziv_kup' AS btext WITH ;
		BackColor = 244,251,189, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 133, ;
		Name = "txtNaziv_kup", ;
		obvezen = .T., ;
		TabIndex = 2, ;
		Top = 33, ;
		Width = 405
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNovoNabavVred' AS btext WITH ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = (gcCif), ;
		Left = 333, ;
		MaxLength = 18, ;
		Name = "txtNovoNabavVred", ;
		TabIndex = 16, ;
		Top = 349, ;
		Width = 106
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPred_naj' AS btext WITH ;
		BackColor = 244,251,189, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 133, ;
		Name = "txtPred_naj", ;
		obvezen = .T., ;
		TabIndex = 4, ;
		Top = 54, ;
		Width = 405
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtProc_x' AS btext WITH ;
		BackColor = 175,237,182, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "99.9999", ;
		Left = 768, ;
		Name = "txtProc_x", ;
		ReadOnly = .F., ;
		TabIndex = 23, ;
		Top = 381, ;
		Width = 69
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPzproc' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "99.9999", ;
		Left = 768, ;
		Name = "txtPzproc", ;
		ReadOnly = .F., ;
		TabIndex = 19, ;
		Top = 339, ;
		Width = 69
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtRabatd_p' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999.99999999", ;
		Left = 862, ;
		Name = "txtRabatd_p", ;
		ReadOnly = .F., ;
		TabIndex = 31, ;
		Top = 85, ;
		Width = 90
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtRefinanc' AS btext WITH ;
		Enabled = .F., ;
		Left = 841, ;
		Name = "txtRefinanc", ;
		Top = 276, ;
		Width = 112
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtrObresti_val' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 133, ;
		Name = "txtrObresti_val", ;
		TabIndex = 61, ;
		Top = 306, ;
		Width = 118
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtStroski_pz' AS btext WITH ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 841, ;
		Name = "txtStroski_pz", ;
		ReadOnly = .F., ;
		TabIndex = 20, ;
		Top = 338, ;
		Width = 112
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtStroski_x' AS btext WITH ;
		BackColor = 175,237,182, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 841, ;
		Name = "txtStroski_x", ;
		ReadOnly = .F., ;
		TabIndex = 24, ;
		Top = 381, ;
		Width = 112
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtStroski_zt' AS btext WITH ;
		BackColor = 175,237,182, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 841, ;
		Name = "txtStroski_zt", ;
		ReadOnly = .F., ;
		TabIndex = 18, ;
		Top = 318, ;
		Width = 112
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtzav_fin' AS btext WITH ;
		BackColor = 175,237,182, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "999,999,999,999.99", ;
		Left = 841, ;
		Name = "txtzav_fin", ;
		ReadOnly = .F., ;
		TabIndex = 22, ;
		Top = 359, ;
		Width = 112
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtzfproc' AS btext WITH ;
		BackColor = 175,237,182, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "99.9999", ;
		Left = 768, ;
		Name = "txtzfproc", ;
		ReadOnly = .F., ;
		TabIndex = 21, ;
		Top = 359, ;
		Width = 69
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtZtproc' AS btext WITH ;
		BackColor = 175,237,182, ;
		ControlSource = "", ;
		Enabled = .F., ;
		Height = 19, ;
		InputMask = "99.9999", ;
		Left = 768, ;
		Name = "txtZtproc", ;
		ReadOnly = .F., ;
		TabIndex = 17, ;
		Top = 318, ;
		Width = 69
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />
	
	PROCEDURE clear		&& Empry fields
	ENDPROC

	PROCEDURE Init
		LOCAL lcSQL
		TEXT TO lcSQL NOSHOW 
			select 
			    ID_Pon, Nacin_leas, LeasNAziv, Dat_pon, Naziv_kup, Pred_naj, ID_Vrste, VrsteNaziv, ID_Dob, St_Predr, Dat_Predr, Predr_do, 
			    Traj_naj, Vr_val, ID_dav_st, St_Obrok, Varscina, Prv_obr, Marza_av, Ost_obr, Marza_ob, Obr_mera, obr_merak, ID_rtip, 
			    ID_Obd, Opcija, Diskont, Rabat_nam, Rabat_njim, Stroski_zt, Stroski_pz, Akont, Man_str, ID_Tec, ID_Val, Zav_fin, Zt_proc, 
			    Zf_proc, Naziv_dob, Beg_end, Obr_Financ, Str_Financ, Na_Zacetku, Vnesel, id_cont, Dovol_KM, Cena_dKM, Neto, Carina, Trosarina, 
			    Spedicija, Ostalo, Davek, Bruto, Obvezno, Kasko, Kasko_let, ID_tecvr, Dat_Vnosa, cast(Opombe as [text]) as Opombe, Naziv_kup1, 
			    ID_Tec_n, ID_Kupca, Datum_n, Neto_1, Dva_pp, Dej_obr, Fix_del, Rind_datum, DDV, Dobrocno, Pred_DDV, Ef_obrm, Je_Foseba, oststr, 
			    Servisi, Gume, Ost_stor, Stroski_X, Proc_X, Dav_Vred, Manstr_p, Ost_obr_b, Ost_obr_n, Prv_obr_p, Pyr, Ucddv_p, Varsc_p, Vr_Bruto, 
			    Vr_Neto, Net_nal, Plac_zac_kalk, Plac_zac, Prza_EOM, Obnaleto, Disk_r, Nacin_ms, Opc_Datzad, Opc_Imaobr, User_desc, Str_Notar, 
			    Pz_proc, Dni_financ, Dat_izr, DavekOpis, Dav_vseb, Dav_Prist, Opcija_p, cast(Opis_Pred as [text]) as Opis_Pred, ID_Grupe, 
			    Realizirana, moratorij_mes, id_dav_op, naziv_ind_obr, naziv_odb, dav_vred_op, man_str_n, stroski_x_n, prv_obr_n, novonabav_vred, 
			    fakt_prem_stop, vnesel_ext, intg_ext_id, robresti_val, robresti_dom, kategorija, kategorija_naziv, kategorija1, kategorija1_naziv, 
			    kategorija2, kategorija2_naziv, kategorija3, kategorija3_naziv, prodajalec, posrednik, posrednik_naziv, datum_dok_create_type, 
			    dat_1registracije, je_nk, refinanc 
			FROM dbo.gfn_Offer_View(1, ?p1, 0, '' , 0, '', 0, '', 0, '19000101', '29990101', 0, '', 0, '', 0, '', 0, '', '')
		ENDTEXT 
		
		
		** moduli in custom_settings
		this.IsModul_NewPurchaseValue = GOBJ_LicenceManager.IsModuleEnabled("LE_NEW_PURCHASE_VALUE")
		
		GF_SQLEXEC("SELECT naziv, id_vrste FROM dbo.vrst_opr",'vrst_opr')
		GF_SQLEXEC("SELECT opis, id_dav_st FROM dbo.dav_stop WHERE je_na_kalk = 1",'dav_stop')
		GF_SQLEXEC("SELECT naziv, id_obd FROM dbo.obdobja",'obdobja')
		GF_SQLEXEC("SELECT naziv, id_tec FROM dbo.tecajnic ORDER BY vrstni_red",'tecajnic')
		GF_SQLEXEC("SELECT naziv, sif_terj FROM dbo.vrst_ter",'vrst_ter')
		GF_SQLEXEC("SELECT naziv, nacin_leas FROM dbo.nacini_l ORDER BY vrstni_red",'nacini_l')
		GF_SQLEXEC("SELECT naziv, id_rtip FROM dbo.rtip ORDER BY naziv",'rtip')
		
		
		this.inputsql = lcSQL
		this.cursorname = "_Ponudba"
		
		
		DIMENSION this.datafields(73,2)
		this.datafields(1,1) = "txtID_Pon"
		this.datafields(1,2) = this.cursorname + "." + "ID_pon"
		
		this.datafields(2,1) = "Bcombolist2"
		this.datafields(2,2) = this.cursorname + "." + "nacin_leas"
		
		this.datafields(3,1) = "txtDat_pon"
		this.datafields(3,2) = this.cursorname + "." + "dat_pon"
		
		this.datafields(4,1) = "txtNaziv_kup"
		this.datafields(4,2) = this.cursorname + "." + "naziv_kup" 
		
		this.datafields(5,1) = "Bcheck1"
		this.datafields(5,2) = this.cursorname + "." + "je_foseba"
		
		this.datafields(6,1) = "txtPred_naj"
		this.datafields(6,2) = this.cursorname + "." + "pred_naj"
		
		this.datafields(7,1) = "Btext1"
		this.datafields(7,2) = this.cursorname + "." + "id_dob"
		
		this.datafields(8,1) = "txtPred_naj"
		this.datafields(8,2) = this.cursorname + "." + "pred_naj"
		
		this.datafields(9,1) = "txtNaziv_dob"
		this.datafields(9,2) = this.cursorname + "." + "naziv_dob"
		
		this.datafields(10,1) = "Btext4"
		this.datafields(10,2) = this.cursorname + "." + "st_predr"
		
		this.datafields(11,1) = "Datum1"
		this.datafields(11,2) = this.cursorname + "." + "dat_predr"
		
		this.datafields(12,1) = "Datum2"
		this.datafields(12,2) = this.cursorname + "." + "predr_do"
		
		this.datafields(13,1) = "Bcombolist5"
		this.datafields(13,2) = this.cursorname + "." + "id_vrste"
		
		this.datafields(14,1) = "Btext18"
		this.datafields(14,2) = this.cursorname + "." + "id_val"
		
		this.datafields(15,1) = "Btext19"
		this.datafields(15,2) = this.cursorname + "." + "vr_val"
		
		this.datafields(16,1) = "txtRabatd_p"
		this.datafields(16,2) = this.cursorname + "." + "rabat_nam"
		
		this.datafields(17,1) = "Btext3"
		this.datafields(17,2) = this.cursorname + "." + "rabat_njim"
		
		this.datafields(18,1) = "Bcombolist6"
		this.datafields(18,2) = this.cursorname + "." + "id_tec"
		
		this.datafields(19,1) = "Bcombolist1"
		this.datafields(19,2) = this.cursorname + "." + "id_obd"
		
		this.datafields(20,1) = "txtPred_naj"
		this.datafields(20,2) = this.cursorname + "." + "pred_naj"
		
		this.datafields(21,1) = "Btext7"
		this.datafields(21,2) = this.cursorname + "." + "id_val"
		
		this.datafields(22,1) = "Btext10"
		this.datafields(22,2) = this.cursorname + "." + "st_obrok"
		
		this.datafields(23,1) = "Btext8"
		this.datafields(23,2) = this.cursorname + "." + "prv_obr"
		
		this.datafields(24,1) = "Btext11"
		this.datafields(24,2) = this.cursorname + "." + "ost_obr"
		
		this.datafields(25,1) = "Btext14"
		this.datafields(25,2) = this.cursorname + "." + "opcija"
		
		this.datafields(26,1) = "Btext15"
		this.datafields(26,2) = this.cursorname + "." + "obr_mera"
		
		this.datafields(27,1) = "Bcombolist4"
		this.datafields(27,2) = this.cursorname + "." + "id_rtip"
		
		this.datafields(28,1) = "Btext17"
		this.datafields(28,2) = this.cursorname + "." + "diskont"
		
		this.datafields(29,1) = "Btext16"
		this.datafields(29,2) = this.cursorname + "." + "beg_end"
		
		this.datafields(30,1) = "Btext22"
		this.datafields(30,2) = this.cursorname + "." + "akont"
		
		this.datafields(31,1) = "Btext23"
		this.datafields(31,2) = this.cursorname + "." + "str_notar"
		
		this.datafields(32,1) = "Btext24"
		this.datafields(32,2) = this.cursorname + "." + "dovol_km"
		
		this.datafields(33,1) = "Btext16"
		this.datafields(33,2) = this.cursorname + "." + "beg_end"
		
		this.datafields(34,1) = "Btext12"
		this.datafields(34,2) = this.cursorname + "." + "varscina"
		
		this.datafields(35,1) = "Btext13"
		this.datafields(35,2) = this.cursorname + "." + "oststr"
		
		this.datafields(36,1) = "Btext2"
		this.datafields(36,2) = this.cursorname + "." + "man_str"
		
		this.datafields(37,1) = "Btext21"
		this.datafields(37,2) = this.cursorname + "." + "fix_del"
		
		this.datafields(38,1) = "Btext39"
		this.datafields(38,2) = this.cursorname + "." + "obr_financ"
		
		this.datafields(39,1) = "Btext25"
		this.datafields(39,2) = this.cursorname + "." + "cena_dkm"
		
		this.datafields(40,1) = "Btext9"
		this.datafields(40,2) = this.cursorname + "." + "ddv"
		
		this.datafields(41,1) = "Bcheck2"
		this.datafields(41,2) = this.cursorname + "." + "dobrocno"
		
		this.datafields(42,1) = "Btext27"
		this.datafields(42,2) = this.cursorname + "." + "marza_av"
		
		this.datafields(43,1) = "Btext26"
		this.datafields(43,2) = this.cursorname + "." + "marza_ob"
		
		this.datafields(44,1) = "Btext28"
		this.datafields(44,2) = this.cursorname + "." + "plac_zac_kalk"
		
		this.datafields(45,1) = "txtZtproc"
		this.datafields(45,2) = this.cursorname + "." + "zt_proc"
		
		this.datafields(46,1) = "txtStroski_zt"
		this.datafields(46,2) = this.cursorname + "." + "stroski_zt"
		
		this.datafields(47,1) = "txtPzproc"
		this.datafields(47,2) = this.cursorname + "." + "pz_proc"
		
		this.datafields(48,1) = "txtzfproc"
		this.datafields(48,2) = this.cursorname + "." + "zf_proc"
		
		this.datafields(49,1) = "txtzav_fin"
		this.datafields(49,2) = this.cursorname + "." + "zav_fin"
		
		this.datafields(50,1) = "txtProc_x"
		this.datafields(50,2) = this.cursorname + "." + "PROC_X"
		
		this.datafields(51,1) = "txtStroski_x"
		this.datafields(51,2) = this.cursorname + "." + "stroski_x"
		
		this.datafields(52,1) = "Btext38"
		this.datafields(52,2) = this.cursorname + "." + "dni_financ"
		
		this.datafields(53,1) = "Btext37"
		this.datafields(53,2) = this.cursorname + "." + "str_financ"
		
		this.datafields(54,1) = "Btext25"
		this.datafields(54,2) = this.cursorname + "." + "cena_dkm"
		
		this.datafields(55,1) = "Btext36"
		this.datafields(55,2) = this.cursorname + "." + "plac_zac"
		
		this.datafields(56,1) = "Btext40"
		this.datafields(56,2) = this.cursorname + "." + "id_val"
		
		this.datafields(57,1) = "Btext41"
		this.datafields(57,2) = this.cursorname + "." + "id_val"
		
		this.datafields(58,1) = "Btext42"
		this.datafields(58,2) = this.cursorname + "." + "id_val"
		
		this.datafields(59,1) = "Btext43"
		this.datafields(59,2) = this.cursorname + "." + "id_val"
		
		this.datafields(60,1) = "Btext44"
		this.datafields(60,2) = this.cursorname + "." + "id_val"
		
		this.datafields(61,1) = "Btext45"
		this.datafields(61,2) = this.cursorname + "." + "id_val"
		
		this.datafields(62,1) = "Btext46"
		this.datafields(62,2) = this.cursorname + "." + "id_val"
		
		this.datafields(63,1) = "edtOpombe"
		this.datafields(63,2) = this.cursorname + "." + "opombe"
		
		this.datafields(64,1) = "Btext29"
		this.datafields(64,2) = this.cursorname + "." + "ef_obrm"
		
		this.datafields(65,1) = "txtStroski_pz"
		this.datafields(65,2) = this.cursorname + "." + "Stroski_pz"
		
		this.datafields(66,1) = "txtDavStop"
		this.datafields(66,2) = this.cursorname + "." + "davekopis"
		
		this.datafields(67,1) = "Btext20"
		this.datafields(67,2) = this.cursorname + "." + "traj_naj"
		
		this.datafields(68,1) = "txtRobresti_val"
		this.datafields(68,2) = this.cursorname + "." + "robresti_val"
		
		this.datafields(69,1) = "txtDatDokTip"
		this.datafields(69,2) = this.cursorname + "." + "datum_dok_create_type"
		
		this.datafields(70,1) = "chkJe_nk"
		this.datafields(70,2) = this.cursorname + "." + "je_nk"
		
		this.datafields(71,1) = "txtFaktPremStop"
		this.datafields(71,2) = this.cursorname + "." + "fakt_prem_stop"
		
		this.datafields(72,1) = "txtNovoNabavVred"
		this.datafields(72,2) = this.cursorname + "." + "novonabav_vred"
		
		this.datafields(73,1) = "txtRefinanc"
		this.datafields(73,2) = this.cursorname + "." + "refinanc"
		
		this.txtFaktPremStop.Visible = this.IsModul_NewPurchaseValue
		this.lblFaktPremStop.Visible = this.IsModul_NewPurchaseValue
		this.txtNovoNabavVred.Visible = this.IsModul_NewPurchaseValue
		this.lblNovoNabavVred.Visible= this.IsModul_NewPurchaseValue
		
		** Label
		LOCAL lcTmp
		
		lcTmp = ALLTRIM(LOOKUP(vrst_ter.Naziv,"PRZA",vrst_ter.sif_terj))
		
		IF lcTmp == "" THEN
			lcTmp = "PRZA"
		ENDIF
		
		this.lblStroski_pz.Caption = lcTmp
		this.lblStroski_pz.Alignment = 1 &&Right
		
		
		lcTmp = ALLTRIM(LOOKUP(vrst_ter.Naziv,"ZATE",vrst_ter.sif_terj))
		
		IF lcTmp == "" THEN
			lcTmp = "ZATE"
		ENDIF
		
		this.lblStroski_zt.Caption = lcTmp
		this.lblStroski_zt.Alignment = 1 &&Right
		
		
		lcTmp = ALLTRIM(LOOKUP(vrst_ter.Naziv,"ZAVF",vrst_ter.sif_terj))
		
		IF lcTmp == "" THEN
			lcTmp = "ZAVF"
		ENDIF
		
		this.lblZav_fin.Caption = lcTmp
		this.lblZav_fin.Alignment = 1 &&Right
		
		
		lcTmp = ALLTRIM(LOOKUP(vrst_ter.Naziv,"STRX",vrst_ter.sif_terj))
		
		IF lcTmp == "" THEN
			lcTmp = "STRX"
		ENDIF
		
		this.lblStroski_x.Caption = lcTmp
		this.lblStroski_x.Alignment = 1 &&Right
		
		
		lcTmp = GF_CustomSettings("Nova.Robresti.Label")
		This.lblRobresti_val.Caption = lcTmp
		
		lcTmp = LOWER(GF_CustomSettings("Nova.LE.Kalkulacija.DDT"))
		
		IF (!GF_NullOrEmpty(lcTmp) AND lcTmp = "true")
			this.lblDDT.Visible = .T.
			this.txtDatDokTip.Visible = .T.
		ENDIF 
	ENDPROC

	PROCEDURE readdata
		LOCAL laPar[1]
		
		laPar[1] = NVL(this.dataid, "")
		
		GF_SQLEXEC_P(This.inputsql, @laPar, this.cursorname)
	ENDPROC

	PROCEDURE requery		&& Updates control source from datafelds array and requeries controls
		
		LOCAL lnCount
		LOCAL lcCommand
		
		FOR lnCount = 1 TO ALEN(this.datafields,1)
			lcCommand = "this." + ALLTRIM(TRANSFORM(this.datafields(lnCount,1))) + ".ControlSource = '" + ALLTRIM(TRANSFORM(this.datafields(lnCount,2))) + "'"
			&lcCommand 
		ENDFOR
	ENDPROC

ENDDEFINE

DEFINE CLASS block_porok AS container 
 	*< CLASSDATA: Baseclass="container" Timestamp="" Scale="Pixels" Uniqueid="" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="shpPonudba" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCaption1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_Pog" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdOpenContract" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_Cont" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtAneks" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNacin_leas" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNacinLeasNaziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel4" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_Vrste" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtVrsteNaziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel5" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtLeasingojemalecSifra" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdOpenLeasingojemalec" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtLeasingojemalecNaziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtLeasingojemalecTelefon" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel6" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel7" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel8" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtID_Poroka" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdOpenPorok" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPorokNaziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtPorokTelefon" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel9" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel10" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel11" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDobaviteljSifra" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdOpenDobavitelj" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDobaviteljNaziv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtDobaviteljTelefon" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel12" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel13" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel14" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtOznaka" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtVloga" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Blabel15" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtOpis" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="chkNeOpom" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="chkNeaktiven" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblStatus" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtStatus" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtStatusNaziv" UniqueID="" Timestamp="" />

	*<DefinedPropArrayMethod>
		*m: clear		&& Clears the contents of a ComboBox or ListBox control.
		*m: readdata
		*m: requery		&& Requeries the row source to which the ListBox or ComboBox control is bound.
		*m: splitdataid		&& Gets first or second part of coma delimited DataID
		*p: block_height
		*p: block_width
		*p: cursorname
		*p: dataid
		*p: inputsql
		*p: tip_vnosne_maske
		*a: datafields[1,1]
	*</DefinedPropArrayMethod>

	block_height = 570
	block_width = 430
	BorderWidth = 0
	Height = 480
	Name = "block_porok"
	Width = 528

	ADD OBJECT 'Blabel10' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Telefon", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel10", ;
		TabIndex = 32, ;
		Top = 133, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel11' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Dobavitelj", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel11", ;
		TabIndex = 32, ;
		Top = 357, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel12' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Naziv", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel12", ;
		TabIndex = 32, ;
		Top = 377, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel13' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Telefon", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel13", ;
		TabIndex = 32, ;
		Top = 397, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel14' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Oznaka in vloga", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel14", ;
		TabIndex = 32, ;
		Top = 157, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel15' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Opis", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel15", ;
		TabIndex = 32, ;
		Top = 178, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel2' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Aneks", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel2", ;
		TabIndex = 32, ;
		Top = 28, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel3' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Način lesinga", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel3", ;
		TabIndex = 32, ;
		Top = 52, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel4' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Vrsta opreme", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel4", ;
		TabIndex = 32, ;
		Top = 72, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel5' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Leasingojemalec", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel5", ;
		TabIndex = 32, ;
		Top = 290, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel6' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Naziv", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel6", ;
		TabIndex = 32, ;
		Top = 310, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel7' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Telefon", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel7", ;
		TabIndex = 32, ;
		Top = 330, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel8' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Porok", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel8", ;
		TabIndex = 32, ;
		Top = 93, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'Blabel9' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Naziv", ;
		Height = 17, ;
		Left = 7, ;
		Name = "Blabel9", ;
		TabIndex = 32, ;
		Top = 113, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'chkNeaktiven' AS bcheck WITH ;
		Caption = "Neaktiven", ;
		ControlSource = "", ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "chkNeaktiven", ;
		ReadOnly = .T., ;
		TabIndex = 7, ;
		Top = 457, ;
		Visible = .T., ;
		Width = 252
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="checkbox" />

	ADD OBJECT 'chkNeOpom' AS bcheck WITH ;
		Caption = "Ne opominjaj", ;
		ForeColor = 128,0,64, ;
		Height = 17, ;
		Left = 116, ;
		Name = "chkNeOpom", ;
		ReadOnly = .T., ;
		TabIndex = 12, ;
		Top = 437, ;
		Visible = .T., ;
		Width = 252
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="checkbox" />

	ADD OBJECT 'cmdOpenContract' AS commandbutton WITH ;
		Caption = "...", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 223, ;
		Name = "cmdOpenContract", ;
		ToolTipText = "Mapa pogodbe", ;
		Top = 8, ;
		Width = 19
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'cmdOpenDobavitelj' AS commandbutton WITH ;
		Caption = "...", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 223, ;
		Name = "cmdOpenDobavitelj", ;
		ToolTipText = "Mapa dobavitelja", ;
		Top = 357, ;
		Width = 19
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'cmdOpenLeasingojemalec' AS commandbutton WITH ;
		Caption = "...", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 223, ;
		Name = "cmdOpenLeasingojemalec", ;
		ToolTipText = "Mapa partnerja", ;
		Top = 290, ;
		Width = 19
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'cmdOpenPorok' AS commandbutton WITH ;
		Caption = "...", ;
		Enabled = .F., ;
		Height = 19, ;
		Left = 223, ;
		Name = "cmdOpenPorok", ;
		ToolTipText = "Mapa poroka", ;
		Top = 93, ;
		Width = 19
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'lblCaption1' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Št. pogodbe", ;
		Height = 17, ;
		Left = 7, ;
		Name = "lblCaption1", ;
		TabIndex = 32, ;
		Top = 8, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'lblStatus' AS blabel WITH ;
		Alignment = 1, ;
		AutoSize = .F., ;
		Caption = "Status", ;
		Height = 17, ;
		Left = 7, ;
		Name = "lblStatus", ;
		TabIndex = 21, ;
		Top = 417, ;
		Width = 100
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="label" />

	ADD OBJECT 'shpPonudba' AS shape WITH ;
		Height = 478, ;
		Left = 1, ;
		Name = "shpPonudba", ;
		SpecialEffect = 0, ;
		Top = 2, ;
		Width = 527
		*< END OBJECT: BaseClass="shape" />

	ADD OBJECT 'txtAneks' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtAneks", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 28, ;
		Width = 104
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDobaviteljNaziv' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtDobaviteljNaziv", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 377, ;
		Width = 404
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDobaviteljSifra' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtDobaviteljSifra", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 357, ;
		Width = 104
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtDobaviteljTelefon' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtDobaviteljTelefon", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 397, ;
		Width = 404
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_Cont' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .T., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 251, ;
		Name = "txtID_Cont", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 8, ;
		Visible = .F., ;
		Width = 108
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_Pog' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .T., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtID_Pog", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 8, ;
		Width = 104
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_Poroka' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtID_Poroka", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 93, ;
		Width = 104
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtID_Vrste' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtID_Vrste", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 68, ;
		Width = 104
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtLeasingojemalecNaziv' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtLeasingojemalecNaziv", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 310, ;
		Width = 404
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtLeasingojemalecSifra' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtLeasingojemalecSifra", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 290, ;
		Width = 104
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtLeasingojemalecTelefon' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtLeasingojemalecTelefon", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 330, ;
		Width = 404
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNacin_leas' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtNacin_leas", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 48, ;
		Width = 104
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNacinLeasNaziv' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 221, ;
		Name = "txtNacinLeasNaziv", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 48, ;
		Width = 300
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtOpis' AS editbox WITH ;
		DisabledForeColor = 128,0,64, ;
		Enabled = .F., ;
		Height = 106, ;
		Left = 116, ;
		Name = "txtOpis", ;
		Top = 178, ;
		Width = 404
		*< END OBJECT: BaseClass="editbox" />

	ADD OBJECT 'txtOznaka' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtOznaka", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 158, ;
		Width = 104
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPorokNaziv' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtPorokNaziv", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 113, ;
		Width = 404
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtPorokTelefon' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 116, ;
		Name = "txtPorokTelefon", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 133, ;
		Width = 404
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtStatus' AS btext WITH ;
		ControlSource = "", ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		label_name = #, ;
		Left = 116, ;
		Name = "txtStatus", ;
		ReadOnly = .T., ;
		TabIndex = 22, ;
		Top = 417, ;
		Width = 104
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtStatusNaziv' AS btextro WITH ;
		Height = 19, ;
		Left = 221, ;
		Name = "txtStatusNaziv", ;
		ReadOnly = .T., ;
		TabIndex = 23, ;
		Top = 417, ;
		Width = 300
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtVloga' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 221, ;
		Name = "txtVloga", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 158, ;
		Width = 300
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtVrsteNaziv' AS btext WITH ;
		ControlSource = "", ;
		FontBold = .F., ;
		ForeColor = 128,0,64, ;
		Height = 19, ;
		Left = 221, ;
		Name = "txtVrsteNaziv", ;
		ReadOnly = .T., ;
		TabIndex = 42, ;
		Top = 68, ;
		Width = 300
		*< END OBJECT: ClassLib="vclas1.vcx" BaseClass="textbox" />
	
	PROCEDURE clear		&& Clears the contents of a ComboBox or ListBox control.
		
		*LOCAL lnCount
		*LOCAL lcCommand
		
		*FOR lnCount = 1 TO ALEN(this.datafields,1)
		*	lcCommand = "this." + this.datafields(lnCount,1) + ".ControlSource = "''"
		*ENDFOR
		
	ENDPROC

	PROCEDURE Init
		
		LOCAL lcSQL
		lcSQL = "SELECT * FROM dbo.gfn_Warrantor_View(1,'@DataIDPog',1,'@DataIDPor',0,'',0,'',0,'','SVN')"     
		
		
		this.inputsql = lcSQL
		this.cursorname = "_PorokOne"
		
		DIMENSION this.datafields(23,2)
		
		this.datafields(1,1) = "txtID_Cont"
		this.datafields(1,2) = "'" + this.cursorname + "." + "ID_Cont" + "'"
		
		this.datafields(2,1) = "txtID_Pog"
		this.datafields(2,2) = "'" + this.cursorname + "." + "ID_Pog" + "'"
		
		this.datafields(3,1) = "txtAneks"
		this.datafields(3,2) = "'" + this.cursorname + "." + "Aneks" + "'"
		
		this.datafields(4,1) = "txtNacin_leas"
		this.datafields(4,2) = "'" + this.cursorname + "." + "Nacin_leas" + "'"
		
		this.datafields(5,1) = "txtNacinLeasNaziv"
		this.datafields(5,2) = "'" + this.cursorname + "." + "NacinLeasNaziv" + "'"
		
		this.datafields(6,1) = "txtID_Vrste"
		this.datafields(6,2) = "'" + this.cursorname + "." + "ID_Vrste" + "'"
		
		this.datafields(7,1) = "txtVrsteNaziv"
		this.datafields(7,2) = "'" + this.cursorname + "." + "VrsteNaziv" + "'"
		
		this.datafields(8,1) = "txtID_Poroka"
		this.datafields(8,2) = "'" + this.cursorname + "." + "ID_Poroka" + "'"
		
		this.datafields(9,1) = "txtPorokNaziv"
		this.datafields(9,2) = "'" + this.cursorname + "." + "PorokNaziv" + "'"
		
		this.datafields(10,1) = "txtPorokTelefon"
		this.datafields(10,2) = "'" + this.cursorname + "." + "PorokTelefon" + "'"
		
		this.datafields(11,1) = "txtOznaka"
		this.datafields(11,2) = "'" + this.cursorname + "." + "Oznaka" + "'"
		
		this.datafields(12,1) = "txtVloga"
		this.datafields(12,2) = "'" + this.cursorname + "." + "Vloga" + "'"
		
		this.datafields(13,1) = "txtOpis"
		this.datafields(13,2) = "'" + this.cursorname + "." + "Opis" + "'"
		
		this.datafields(14,1) = "txtLeasingojemalecSifra"
		this.datafields(14,2) = "'" + this.cursorname + "." + "LeasingojemalecSifra" + "'"
		
		this.datafields(15,1) = "txtLeasingojemalecNaziv"
		this.datafields(15,2) = "'" + this.cursorname + "." + "LeasingojemalecNaziv" + "'"
		
		this.datafields(16,1) = "txtLeasingojemalecTelefon"
		this.datafields(16,2) = "'" + this.cursorname + "." + "LeasingojemalecTelefon" + "'"
		
		this.datafields(17,1) = "txtDobaviteljSifra"
		this.datafields(17,2) = "'" + this.cursorname + "." + "DobaviteljSifra" + "'"
		
		this.datafields(18,1) = "txtDobaviteljNaziv"
		this.datafields(18,2) = "'" + this.cursorname + "." + "DobaviteljNaziv" + "'"
		
		this.datafields(19,1) = "txtDobaviteljTelefon"
		this.datafields(19,2) = "'" + this.cursorname + "." + "DobaviteljTelefon" + "'"
		
		this.datafields(20,1) = "chkNeOpom"
		this.datafields(20,2) = "'" + this.cursorname + "." + "ne_opominjaj" + "'"
		
		this.datafields(21,1) = "txtStatus"
		this.datafields(21,2) = "'" + this.cursorname + "." + "status" + "'"
		
		this.datafields(22,1) = "txtStatusNaziv"
		this.datafields(22,2) = "'" + this.cursorname + "." + "status_naziv" + "'"
		
		this.datafields(23,1) = "chkNeaktiven"
		this.datafields(23,2) = "'" + this.cursorname + "." + "neaktiven" + "'"
		
		
		this.cmdOpenLeasingojemalec.Enabled = .T. 
		this.cmdOpenPorok.Enabled = .T. 
		this.cmdOpenDobavitelj.Enabled = .T. 
		this.cmdOpenContract.Enabled = .T. 
		
		LOCAL llRemindersWarrantors
		llRemindersWarrantors = GOBJ_LicenceManager.IsModuleEnabled("REMINDERS_WARRANTORS")
		this.chkNeOpom.Visible = llRemindersWarrantors
		
		* V CUSTOM_SETTINGS je nastavitev za preimenovanje telefona partnerja
		LOCAL lcTelefonNaziv
		lcTelefonNaziv= ALLTRIM(GF_CustomSettings("Nova.LE.CustomerTelephoneName"))
		IF !EMPTY(lcTelefonNaziv)
			this.blabel10.Caption = lcTelefonNaziv
			this.blabel7.Caption = lcTelefonNaziv
			this.blabel13.Caption = lcTelefonNaziv
		ENDIF
		
		
		
	ENDPROC

	PROCEDURE readdata
		
		LOCAL lcSQLPrepare
		
		lcSQLPrepare = this.inputsql 
		lcSQLPrepare = STRTRAN(lcSQLPrepare, "@DataIDPog", this.splitdataid(this.dataid,1)) 
		lcSQLPrepare = STRTRAN(lcSQLPrepare, "@DataIDPor", this.splitdataid(this.dataid,2)) 
		
		GF_SQLEXEC(lcSQLPrepare,this.cursorname)
	ENDPROC

	PROCEDURE requery		&& Requeries the row source to which the ListBox or ComboBox control is bound.
		
		LOCAL lnCount
		LOCAL lcCommand
		
		FOR lnCount = 1 TO ALEN(this.datafields,1)
			lcCommand = "this." + ALLTRIM(TRANSFORM(this.datafields(lnCount,1))) + ".ControlSource = " + ALLTRIM(TRANSFORM(this.datafields(lnCount,2))) + ""
			&lcCommand 
		ENDFOR
	ENDPROC

	PROCEDURE splitdataid		&& Gets first or second part of coma delimited DataID
		PARAMETERS pcDataID, pcPart
		
		* pcDataID = input parameter, which include ID_Pog and in IDPoroka like "00000000005,000001"
		* lcPart   = 1 or 2 for part od tht string that will be returned
		
		LOCAL lnDelimiterPosition
		LOCAL lcPart
		
		lnDelimiterPosition = AT(",",pcDataID)
		
		IF ALLTRIM(TRANSFORM(pcPart)) = "1" THEN
			IF lnDelimiterPosition > 1 THEN
				lcPart = SUBSTR(pcDataID,1,lnDelimiterPosition-1)
			ELSE
				lcPart = pcDataID
			ENDIF
		ELSE
			IF lnDelimiterPosition > 1 THEN
				lcPart = SUBSTR(pcDataID,lnDelimiterPosition+1)
			ELSE
				lcPart = ""
			ENDIF
		ENDIF
		
		
		RETURN lcPart
		
	ENDPROC

	PROCEDURE cmdOpenContract.Click
		LOCAL lcIDCont
		LOCAL lcCommand
		
		lcCommand = "lcIDCont = " + this.Parent.cursorname  + "." + "ID_Cont"
		&lcCommand
		
		IF LEN(ALLTRIM(TRANSFORM(lcIDCont))) = 0 Then
			Pozor("Šifra pogodbe je prazna!")
		ELSE
			DO FORM ("pogodba_dashboard") WITH lcIDCont
		ENDIF
		
	ENDPROC

	PROCEDURE cmdOpenDobavitelj.Click
		LOCAL lcIDKupca
		LOCAL lcCommand
		
		lcCommand = "lcIDKupca = " + this.Parent.cursorname  + "." + "DobaviteljSifra"
		&lcCommand
		
		IF LEN(ALLTRIM(TRANSFORM(lcIDKupca))) = 0 Then
			Pozor("Šifra dobavitelja je prazna!")
		ELSE
			DO FORM ("partner_dashboard") WITH lcIDKupca 
		ENDIF
		
	ENDPROC

	PROCEDURE cmdOpenLeasingojemalec.Click
		LOCAL lcIDKupca
		LOCAL lcCommand
		
		lcCommand = "lcIDKupca = " + this.Parent.cursorname  + "." + "LeasingojemalecSifra"
		&lcCommand
		
		IF LEN(ALLTRIM(TRANSFORM(lcIDKupca))) = 0 Then
			Pozor("Šifra leasingojemalca je prazna!")
		ELSE
			DO FORM ("partner_dashboard") WITH lcIDKupca 
		ENDIF
		
	ENDPROC

	PROCEDURE cmdOpenPorok.Click
		LOCAL lcIDKupca
		LOCAL lcCommand
		
		lcCommand = "lcIDKupca = " + this.Parent.cursorname  + "." + "ID_Poroka"
		&lcCommand
		
		IF LEN(ALLTRIM(TRANSFORM(lcIDKupca))) = 0 Then
			Pozor("Šifra poroka je prazna!")
		ELSE
			DO FORM ("partner_dashboard") WITH lcIDKupca 
		ENDIF
	ENDPROC

	PROCEDURE txtStatus.Valid
		LOCAL llVrni
		
		llVrni = .T.
		IF !(This.Name $ Thisform.kateg_hide)
			IF !GF_NULLOREMPTY(This.Value) THEN
				llVrni = GF_ObstojaGRegister("POG_PORO_STATUS", This.Value, "pog_poro_status", "", porostva.status)
				IF llVrni = .T. THEN
					This.Value = pog_poro_status.id_key
					This.Parent.txtStatusNaziv.Value = pog_poro_status.value
				ENDIF
			ELSE 
				This.Parent.txtStatusNaziv.Value = ""
			ENDIF
		ENDIF
		IF USED("pog_poro_status")
			USE IN pog_poro_status
		ENDIF
		RETURN llVrni
		
	ENDPROC

ENDDEFINE
